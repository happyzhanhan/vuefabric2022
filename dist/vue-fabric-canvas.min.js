!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["vue-fabric-canvas"]=e():t["vue-fabric-canvas"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=61)}([function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){var i=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(40)("wks"),o=i(30),r=i(0).Symbol,a="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=n},function(t,e,i){var n=i(0),o=i(1),r=i(7),a=i(8),s=i(12),A=function(t,e,i){var c,l,h,f=t&A.F,d=t&A.G,u=t&A.S,g=t&A.P,p=t&A.B,v=t&A.W,m=d?o:o[e]||(o[e]={}),b=m.prototype,x=d?n:u?n[e]:(n[e]||{}).prototype;d&&(i=e);for(c in i)(l=!f&&x&&void 0!==x[c])&&s(m,c)||(h=l?x[c]:i[c],m[c]=d&&"function"!=typeof x[c]?i[c]:p&&l?r(h,n):v&&x[c]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?r(Function.call,h):h,g&&((m.virtual||(m.virtual={}))[c]=h,t&A.R&&b&&!b[c]&&a(b,c,h)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,t.exports=A},function(t,e,i){var n=i(9),o=i(69),r=i(70),a=Object.defineProperty;e.f=i(6)?Object.defineProperty:function(t,e,i){if(n(t),e=r(e,!0),n(i),o)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(10);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(4),o=i(21);t.exports=i(6)?function(t,e,i){return n.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(5);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports={}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(7),o=i(45),r=i(46),a=i(9),s=i(16),A=i(47),c={},l={},e=t.exports=function(t,e,i,h,f){var d,u,g,p,v=f?function(){return t}:A(t),m=n(i,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(r(v)){for(d=s(t.length);d>b;b++)if((p=e?m(a(u=t[b])[0],u[1]):m(t[b]))===c||p===l)return p}else for(g=v.call(t);!(u=g.next()).done;)if((p=o(g,m,u.value,e))===c||p===l)return p};e.BREAK=c,e.RETURN=l},function(t,e,i){var n=i(23),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,i){var n=i(4).f,o=i(12),r=i(2)("toStringTag");t.exports=function(t,e,i){t&&!o(t=i?t:t.prototype,r)&&n(t,r,{configurable:!0,value:e})}},function(t,e,i){var n=i(24);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t,e,i,n,o,r){var a,s=t=t||{},A=typeof t.default;"object"!==A&&"function"!==A||(a=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId=o);var l;if(r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=n),l){var h=c.functional,f=h?c.render:c.beforeCreate;h?(c._injectStyles=l,c.render=function(t,e){return l.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:s,options:c}}},function(t,e,i){var n=i(5),o=i(0).document,r=n(o)&&n(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){"use strict";var n=i(73)(!0);i(25)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";var n=i(26),o=i(3),r=i(74),a=i(8),s=i(13),A=i(75),c=i(17),l=i(80),h=i(2)("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,u,g,p,v){A(i,e,u);var m,b,x,y=function(t){if(!f&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},w=e+" Iterator",T="values"==g,k=!1,S=t.prototype,j=S[h]||S["@@iterator"]||g&&S[g],R=j||y(g),I=g?T?y("entries"):R:void 0,C="Array"==e?S.entries||j:j;if(C&&(x=l(C.call(new t)))!==Object.prototype&&x.next&&(c(x,w,!0),n||"function"==typeof x[h]||a(x,h,d)),T&&j&&"values"!==j.name&&(k=!0,R=function(){return j.call(this)}),n&&!v||!f&&!k&&S[h]||a(S,h,R),s[e]=R,s[w]=d,g)if(m={values:T?R:y("values"),keys:p?R:y("keys"),entries:I},v)for(b in m)b in S||r(S,b,m[b]);else o(o.P+o.F*(f||k),e,m);return m}},function(t,e){t.exports=!0},function(t,e,i){var n=i(28),o=i(24);t.exports=function(t){return n(o(t))}},function(t,e,i){var n=i(14);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(40)("keys"),o=i(30);t.exports=function(t){return n[t]||(n[t]=o(t))}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(8);t.exports=function(t,e,i){for(var o in e)i&&t[o]?t[o]=e[o]:n(t,o,e[o]);return t}},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(14),o=i(2)("toStringTag"),r="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),o))?i:r?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=o(e),this.reject=o(i)}var o=i(10);t.exports.f=function(t){return new n(t)}},function(t,e,i){"use strict";var n,o=i(66),r=i.n(o),a=i(71),s=i.n(a),A=i(51),c=i.n(A),l=i(53),h=i.n(l),f=i(107),d=i.n(f),u=i(110),g=i.n(u),p=i(111),v=i.n(p),m=i(113),b=i.n(m),x=i(114),y=i.n(x),w=i(58),T=i.n(w),k=(i(120),i(121)),S=(i(124),i(125));e.a={name:"FabricCanvas",components:{vueContextMenu:S.a},props:{width:{type:Number,required:!0},height:{type:Number,required:!0},boxWidth:{type:Number,required:!0},boxHeight:{type:Number,required:!0},stepLengthp:{type:Number,default:50},showRuler:{type:Array,default:function(){return[!0,!0]}},idno:{type:Number,default:1,required:!0},showMouseRight:{type:Boolean,default:!0}},data:function(){return{name:"canvas",canvas:null,canvasZoom:1,clipboard:"",cid:1,xScale:[],yScale:[],xLeft:-200,yTop:-100,translateX:-18,translateY:-18,stepLength:this.stepLengthp,showXzhou:this.showRuler[0],showYzhou:this.showRuler[1],rulertop:0,rulerleft:0,scrollyH:100,scrollxW:50,contextMenuData:{menuName:"demo",axis:{x:null,y:null},menulists:[{fnHandler:"copypaste",icoName:"fa fa-home fa-fw",btnName:this.$t("m.copy")},{fnHandler:"removeEditObj",icoName:"fa fa-home fa-fw",btnName:this.$t("m.delete")}]},qrcodeImg:"",activecanvaobjs:[],activeobj:{},textareashow:!1,textdata:"abcdefg",textlines:1,style:{id:0,top:0,left:0,width:200,height:60,fontSize:20,textAlign:"left"},isMoveing:!0,panning:!1,oldboxWidth:this.boxWidth,oldboxHeight:this.boxHeight,winboxwidth:this.boxWidth,winboxheight:this.boxHeight,cursor:0}},directives:{},watch:{idno:function(t,e){this.cid=t},boxWidth:function(t,e){t!==e&&(this.winboxwidth=t)},boxHeight:function(t,e){t!==e&&(this.winboxheight=t)}},mounted:function(){this.canvas=new fabric.Canvas("canvas",{preserveObjectStacking:!0});var t=this.canvas,e=this;fabric.Canvas.prototype.rotationCursor="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NzBBQTBGQ0Y4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NzBBQTBGREY4ODcxMUVBQURGNkU5NzQ3OUY4RTA5NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk3MEFBMEZBRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk3MEFBMEZCRjg4NzExRUFBREY2RTk3NDc5RjhFMDk2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+QUJwRwAAAytJREFUeNrsVk1oGkEUXqVIqCRIhVICEsSTkFuwEPDaWiQ9NaQx6VGRaqCHQATBEFMKKUoLos0h4LV4aWxCbyqhEbx4CJJCwJMJRKVWxJ/EkJ/X9yabZd2oay+hhX7wsbPz3sybmTfv21UAAHdXUHJ3iL8rmEKh0CHdyASyhAQRC8gQ0izyNyCD9Lw1GeWsFxFvdDoduN1uSCQSUCqVQIxCoQChUAjMZjM5B5DTw8PDEAwG6f3Trfl6BFEgQzMzM3BwcAByaDabYLPZYHR0FJLJJOu73sdgwd65XC44Pz8XJjw+PoZYLAZ+vx+8Xi/b6enpqWBvtVqwu7vL2u12myZpywZDOCcnJ6FarbKBV1dXEI1GwWg0gkqlIgc/0qtWq2FiYgI2NjagVqt17LRer5NfvW8wxH0E7O3tCQMXFxfJEEWakCqRrxr5lBaQyWQ6gjUaDXJoyAV7gYDLy0s2iJJPiaZFdDmBRyMjI7C5udk1h2hvygX7jGADTk5OgG4i9hlFditym6ef8tcL3S7IPUklPEawRjqd5orFIjXzfP08M5lM35aXl5l9dXV1amtri8tms5xU8s7Ozuix3rfOEL8QbGWBQIDVjsj2FSGsnNrUh3yOnJLwSbdbLt3ZT8QDxM2uiiIbXR7xC8fncpvf+cOhoaGywWDgsNjpfRxtP/rJVZEPwlFAeohs67hbLpVKMVJbclSvPR4Pt7+/z62trbF3uWP8gmDHdHh4CBqNhjo1Ivs0MslzWtSvo8uEC2VjMd/UmZa7ja8QcHFxwQYtLS1R50cZ/SRpC66srAj59Pl8ZPANoiDfEYLszM3NUecHpFbiRykYR0ZI2kiuCEdHR6DX68lBP0gwm8ViYZJDIP1bWFgArVZ7o+x2pEupVMLY2BhEIhEmaQQSg/n5efLzdj2FHkfzfnZ2FiqVinA0+XyelYPdbgfaCWliuVzuUA2n00mDwz2PvE8u3mKBQzwel/3E7OzsAJ2GuC7/KBgf0IKMW61WCIfDkMvlmMiiQrCvApYAOBwO9tVGv5f95pINJtHEMDJHak6KhKwiU0gH3chB5lH8/5X754L9FmAAxKqp09gZRrsAAAAASUVORK5CYII=) 12 12, auto",fabric.Object.prototype.originX="center",fabric.Object.prototype.originY="center",t.controlsAboveOverlay=!1,t.skipOffscreen=!0,t.preserveObjectStacking=!0,fabric.Canvas.prototype.customiseControls({tl:{action:"scale"},tr:{action:"scale"},bl:{action:"scale"},br:{action:"scale"},mb:{action:"scaleY"},mt:{action:"scaleY"},mr:{action:"scaleX"},ml:{action:"scaleX"},mtr:{action:"rotate"}}),this.canvas.setWidth(this.boxWidth),this.canvas.setHeight(this.boxHeight),t.selection=!0,t.selectionColor="rgba(0,98,178,0)",t.selectionDashArray=[8,3],t.selectionBorderColor="rgba(0,98,178,1)",t.selectionLineWidth=2,fabric.Object.prototype.borderColor="rgba(0,98,178,1)",fabric.Object.prototype.borderDashArray=[5,3],fabric.Object.prototype.cornerColor="rgba(0,98,178,1)",fabric.Object.prototype.cornerStrokeColor="rgba(0,98,178,1)",fabric.Object.prototype.cornerDashArray=[5,3],fabric.Object.prototype.hasControls=!1,this.setCursor(2);document.onkeydown=function(t){var i=window.event.keyCode;if(event.shiftKey&&107===window.event.keyCode?e.ChangeZoom(1):event.shiftKey&&109===window.event.keyCode&&e.ChangeZoom(0),46===i){e.removeCurrentObj()}if(37===i){e.getEditObj().left=parseInt(e.getEditObj().left-1);e.getObjectsNew().forEach(function(t,i){t.id===e.getEditObj().id&&"TextRect-text"===t.isType&&(t.left=parseInt(t.left-1))}),e.$emit("canvasToData",e.getEditObj(),"左移-1 更新"),e.getEditObj().setCoords(),e.canvas.requestRenderAll(),e.canvas.renderAll()}if(38===i){e.getEditObj().top=parseInt(e.getEditObj().top-1);e.getObjectsNew().forEach(function(t,i){t.id===e.getEditObj().id&&"TextRect-text"===t.isType&&(t.top=parseInt(t.top-1))}),e.$emit("canvasToData",e.getEditObj(),"上移-1 更新"),e.getEditObj().setCoords(),e.canvas.requestRenderAll(),e.canvas.renderAll()}if(39===i){e.getEditObj().left=parseInt(e.getEditObj().left+1);e.getObjectsNew().forEach(function(t,i){t.id===e.getEditObj().id&&"TextRect-text"===t.isType&&(t.left=parseInt(t.left+1))}),e.$emit("canvasToData",e.getEditObj(),"右移+1 更新"),e.getEditObj().setCoords(),e.canvas.requestRenderAll(),e.canvas.renderAll()}if(40===i){e.getEditObj().top=parseInt(e.getEditObj().top+1);e.getObjectsNew().forEach(function(t,i){t.id===e.getEditObj().id&&"TextRect-text"===t.isType&&(t.top=parseInt(t.top+1))}),e.$emit("canvasToData",e.getEditObj(),"下移+1 更新"),e.getEditObj().setCoords(),e.canvas.requestRenderAll(),e.canvas.renderAll()}if(event.ctrlKey&&67===i){var n=e.copyData();document.getElementById("code").value=n,e.clipboard=n,document.getElementById("code").select(),document.execCommand("copy"),document.getElementById("code").value=""}event.ctrlKey,event.shiftKey&&68===i&&e.copypaste()},document.addEventListener("paste",function(t){var i=t.clipboardData.getData("Text");"#ZKONG#"===i.substring(0,7)&&(e.paste(i),t.clipboardData.setData("Text",""),t.clipboardData.clearData("Text"))}),this.canvas.on("selection:created",function(t){e.$emit("selection:created",t)}),this.canvas.on("mouse:down",function(i){if(e.isMoveing&&(this.panning=!0,t.selection=!1),4===e.cursor){var n=e.canvas.getZoom()+.1;n=Math.max(.1,n),n=Math.min(3,n);var o=new fabric.Point(event.pageX,event.pageY);e.canvasZoom=n,e.canvas.zoomToPoint(o,n),e.$emit("changeZoomTo",n)}if(5===e.cursor){var n=e.canvas.getZoom()-.1;n=Math.max(.1,n),n=Math.min(3,n);var o=new fabric.Point(event.pageX,event.pageY);e.canvasZoom=n,e.canvas.zoomToPoint(o,n),e.$emit("changeZoomTo",n)}e.$emit("mouse:down",i)}),this.canvas.on("mouse:up",function(i){e.isMoveing&&(this.panning=!1,t.selection=!0),e.$emit("mouse:up",i)}),this.canvas.on("mouse:move",function(i){if(e.isMoveing&&this.panning&&i&&i.e){var n=new fabric.Point(i.e.movementX,i.e.movementY);t.relativePan(n)}e.$emit("mouse:move",i)}),this.canvas.on("mouse:dblclick",function(t){e.$emit("mouse:dblclick",t)}),this.canvas.on("mouse:over",function(i){var n=i.target;n&&n.set("opacity",.8),i.target&&i.target.id&&(t.contextContainer.strokeStyle="rgba(0,98,178,1)",t.contextContainer.lineWidth=2,t.contextContainer.setLineDash([5,3]),t.forEachObject(function(e){if(e&&void 0!==e.id&&"component"==e.component&&"TextRect-text"!==e.isType&&i.target.id===e.id){var n=e.getBoundingRect();t.contextContainer.strokeRect(n.left-1,n.top-1,n.width+1,n.height+1)}})),e.$emit("mouse:over",i)}),this.canvas.on("mouse:out",function(t){var i=t.target;i&&i.set("opacity",1),e.canvas.renderAll(),e.$emit("mouse:out",t)}),this.canvas.on("object:added",function(t){e.$emit("object:added",t)}),this.canvas.on("object:removed",function(t){e.$emit("object:removed",t)}),this.canvas.on("object:modified",function(t){e.$emit("object:modified",t)}),this.canvas.on("object:rotating",function(t){e.$emit("object:rotating",t)}),this.canvas.on("object:rotated",function(t){var i=t.target;i.set({angle:parseInt(i.angle)}),e.$emit("object:rotated",t)}),this.canvas.on("object:scaling",function(t){e.$emit("object:scaling",t)}),this.canvas.on("object:scaled",function(t){e.$emit("object:scaled",t),"Qrcode"===t.target.isType&&(t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1),e.changeQrcodeImage(t.target),e.setActiveObject(t.target)),"Html"===t.target.isType&&(t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1),e.setActiveObject(t.target)),"Barcode"===t.target.isType&&(t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleY",1),t.target.item(0).set("height",parseInt(t.target.height*t.target.scaleY)),t.target.item(1).set("height",parseInt(t.target.height*t.target.scaleY)),e.changeBarcodeImage(t.target))}),this.canvas.on("object:selected",function(t){fabric.Object.prototype.hasControls=!0,console.log("object:selected",t),e.$emit("object:selected",t)}),this.canvas.on("object:moving",function(i){if(i.target._objects){var n=i.target._objects,o=(e.getObjectsNew(),[]);n.forEach(function(t){"TextRect-text"===t.isType&&o.push(t.id)}),n.forEach(function(t){if("TextRect"===t.isType&&-1===o.indexOf(t.id))if(2===t.isElasticSize){t.getPointByOrigin("left","top");t.text.set("left",i.target.left+t.left-t.text.offsetLeft),t.text.set("top",i.target.top+t.top-t.text.offsetTop)}else{var e=(t.getPointByOrigin("left","top"),Math.sin(fabric.util.degreesToRadians(t.angle))),n=Math.cos(fabric.util.degreesToRadians(t.angle));t.textOffsetLeft,t.textOffsetTop,t.textOffsetLeft,t.textOffsetTop;t.text.set("left",i.target.left+t.left),t.text.set("top",i.target.top+t.top)}})}var r=i.target;if(!(r.currentHeight>r.canvas.height||r.currentWidth>r.canvas.width)){r.setCoords();var a=(t.getZoom(),e.returnbg()),s=a.calcCoords(),A=a.getBoundingRect(),c=r.calcCoords();0==r.angle?(r.getBoundingRect().top<s.tl.y&&(r.set({top:a.top}),r.setCoords(),e.canvas.renderAll()),r.getBoundingRect().left<s.tl.x&&(r.set({left:a.left}),r.setCoords(),e.canvas.renderAll()),c.tl.x+r.getBoundingRect().width>s.tl.x+A.width&&(r.set({left:a.left+a.width-r.width}),r.setCoords(),e.canvas.renderAll()),c.tl.y+r.getBoundingRect().height>s.tl.y+A.height&&(r.set({top:a.top+a.height-r.height}),r.setCoords(),e.canvas.renderAll())):(c.tl.y<s.tl.y&&(console.log(s.tl.y,a.top),r.set({top:a.top}),r.setCoords(),e.canvas.renderAll()),c.tl.x<s.tl.x&&(r.set({left:a.left}),r.setCoords(),e.canvas.renderAll()),c.tl.x>s.tl.x+A.width&&(r.set({left:a.left+a.width}),r.setCoords(),e.canvas.renderAll()),c.tl.y>s.tl.y+A.height&&(r.set({top:a.top+a.height}),r.setCoords(),e.canvas.renderAll())),i.e.shiftKey&&(r.top=i.transform.top),i.e.ctrlKey&&(r.left=i.transform.left),e.$emit("object:moving",i)}}),this.canvas.on("object:moved",function(t){if(console.log("fabric,moved",t),t.target._objects){var i=t.target._objects,n=[];i.forEach(function(t){"TextRect-text"===t.isType&&n.push(t.id)}),i.forEach(function(e){if("TextRect"===e.isType&&-1===n.indexOf(e.id))if(2===e.isElasticSize){e.getPointByOrigin("left","top");e.text.set("left",t.target.left+e.left-e.text.offsetLeft),e.text.set("top",t.target.top+e.top-e.text.offsetTop)}else{var i=(e.getPointByOrigin("left","top"),Math.sin(fabric.util.degreesToRadians(e.angle))),o=Math.cos(fabric.util.degreesToRadians(e.angle));e.textOffsetLeft,e.textOffsetTop,e.textOffsetLeft,e.textOffsetTop;e.text.set("left",t.target.left+e.left),e.text.set("top",t.target.top+e.top)}})}e.$emit("object:moved",t)}),this.canvas.on("selection:updated",function(t){e.$emit("selection:updated",t)}),this.canvas.on("selection:changed",function(t){e.$emit("selection:changed",t)}),this.canvas.on("selection:cleared",function(t){fabric.Object.prototype.hasControls=!1,e.$emit("selection:cleared",t)}),this.canvas.on("before:selection:cleared",function(t){fabric.Object.prototype.hasControls=!0,e.$emit("before:selection:cleared",t)}),this.canvas.on("text:changed",function(t){"TextRectBox-text"===t.target.isType&&e.changeTextRectBoxContent(t.target.group),e.$emit("text:changed",t)}),this.canvas.on("text:editing:entered",function(t){"TextRectBox-text"===t.target.isType&&(t.target.group.selectable=!1,t.target.group.item(0).evented=!1,t.target.group.item(0).set({backgroundColor:"#eee",stroke:"#0062B2",strokeWidth:2,strokeDashArray:[5,2]}),t.target.group.item(1).set({hasBorders:!1,top:-t.target.group.height/2,left:-t.target.width/2}),t.target.group.item(1).setSelectionInBoundaries(),t.target.group.item(1).selectionStart=t.target.group.item(1).selectionEnd=t.target.group.item(1).text.length-t.target.group.item(1).postfix.length,t.target.group.item(1)._updateTextarea(),e.changeTextRectBoxContent(t.target.group)),e.$emit("text:editing:entered",t)}),this.canvas.on("text:editing:exited",function(t){if("TextRectBox-text"===t.target.isType){if(console.log("text:editing:exited"),t.target.group.setCoords(),t.target.group.item(0).set({backgroundColor:"",stroke:t.target.group.stroke,strokeWidth:t.target.group.strokeWidth,strokeDashArray:t.target.group.strokeDashArray}),t.target.group.item(1).text.indexOf(t.target.group.prefix)>-1&&t.target.group.item(1).text.indexOf(t.target.group.postfix)>-1){var i=t.target.group.item(1).text.substring(t.target.group.prefix.length,t.target.group.item(1).text.length-t.target.group.postfix.length);t.target.group.set({content:i});var n=e.newtextStyleFormat(t.target.group.item(1),t.target.group.prefix+i+t.target.group.postfix);t.target.group.item(1).set({content:i,text:n})}else if(t.target.group.item(1).text.indexOf(t.target.group.prefix)>-1&&-1==t.target.group.item(1).text.indexOf(t.target.group.postfix)){var o=t.target.group.item(1).text.substring(t.target.group.prefix.length,t.target.group.item(1).text.length);t.target.group.set({content:o});var r=e.newtextStyleFormat(t.target.group.item(1),t.target.group.prefix+o+t.target.group.postfix);t.target.group.item(1).set({content:o,text:r})}else if(-1==t.target.group.item(1).text.indexOf(t.target.group.prefix)&&t.target.group.item(1).text.indexOf(t.target.group.postfix)>-1){var a=t.target.group.item(1).text.substring(0,t.target.group.item(1).text.length-t.target.group.postfix.length);t.target.group.set({content:a});var s=e.newtextStyleFormat(t.target.group.item(1),t.target.group.prefix+a+t.target.group.postfix);t.target.group.item(1).set({content:a,text:s})}else{t.target.group.set({content:t.target.group.item(1).text});var A=e.newtextStyleFormat(t.target.group.item(1),t.target.group.prefix+t.target.group.item(1).text+t.target.group.postfix);t.target.group.item(1).set({content:t.target.group.item(1).text,text:A})}t.target.group.item(1).evented=!1,t.target.group.item(1).selectable=!1,t.target.group.selectable=!0,e.changeTextRectBoxContent(t.target.group)}e.$emit("text:editing:exited",t)}),this.canvas.on("before:render"),this.canvas.on("after:render",function(t){e.$emit("after:render",t)}),this.canvas.on("dragover"),this.canvas.on("dragenter"),this.canvas.on("dragleave"),this.canvas.on("drop"),this.canvas.on("mouse:wheel",function(t){if(t.e.shiftKey){var i=(event.deltaY>0?-.1:.1)+e.canvas.getZoom();i=Math.max(.1,i),i=Math.min(5,i);var n=new fabric.Point(event.pageX,event.pageY);e.canvasZoom=i,e.canvas.zoomToPoint(n,i),e.$emit("changeZoomTo",i)}}),this.initbg()},methods:(n={changebg:function(t,e){this.canvas.getObjects().forEach(function(t){"sBg"===t.type&&t.setlefttop()}),this.canvas.setWidth(t),this.canvas.setHeight(e),this.canvas.renderAll(),this.canvas.calcOffset(),this.canvas.requestRenderAll(),this.canvas.renderAll()},returnbg:function(){var t=this.canvas.getObjects(),e=void 0;return t.forEach(function(t){"sBg"===t.type&&(e=t)}),e},changeOneZoom:function(t,e){var i=new fabric.Point(+t+this.winboxwidth/2,+e+this.winboxheight/2);this.canvas.zoomToPoint(i,1),this.canvasZoom=1,this.canvas.absolutePan(new fabric.Point((this.oldboxWidth-this.winboxwidth)/2,(this.oldboxHeight-this.winboxheight)/2)),this.$emit("changeZoomTo",1),this.canvas.renderAll()},changeOrigin:function(t,e){var i=this.canvas.getZoom();this.canvasZoom=i,this.changeOneZoom(t,e),this.canvas.zoomToPoint(new fabric.Point((+t+this.winboxwidth)/2,(+e+this.winboxheight)/2),i),this.$emit("changeZoomTo",i),this.canvas.renderAll()},changeLefttop:function(t,e){var i=this.canvas.getZoom(),n=0;1==i&&(n=18);var o=new fabric.Point(0,0),r=new fabric.Point((this.boxWidth-this.width)*i/2-n*i+(this.oldboxWidth-this.winboxwidth)/2*i,(this.boxHeight-this.height)*i/2-n*i+(this.oldboxHeight-this.winboxheight)/2*i);this.canvas.relativePan(o),this.canvas.absolutePan(r),this.canvas.renderAll()},changeTopcenter:function(t,e){var i=this.canvas.getZoom(),n=0;1==i&&(n=18);var o=new fabric.Point(0,0),r=new fabric.Point((this.oldboxWidth-this.width)/2*i-n*i-(this.winboxwidth-this.width)/2*i,(this.oldboxHeight-this.height)*i/2-n*i);this.canvas.relativePan(o),this.canvas.absolutePan(r),this.canvas.renderAll()},changeRighttop:function(){var t=this.canvas.getZoom(),e=0;1==t&&(e=18);var i=new fabric.Point(0,0),n=new fabric.Point((this.oldboxWidth-this.width)/2*t-e*t-(this.winboxwidth-this.width)*t,(this.oldboxHeight-this.height)*t/2-e*t);this.canvas.relativePan(i),this.canvas.absolutePan(n),this.canvas.renderAll()},changeLeft:function(){var t=this.canvas.getZoom(),e=0;1==t&&(e=18);var i=new fabric.Point(0,0),n=new fabric.Point((this.oldboxWidth-this.width)*t/2-e*t,(this.oldboxHeight-this.winboxheight)*t/2-e*t);this.canvas.relativePan(i),this.canvas.absolutePan(n),this.canvas.renderAll()},changeRight:function(){},changeLeftbottom:function(){},changeRightbottom:function(){},changeBottomcenter:function(){},changeBigZoom:function(t,e){var i=1;i=this.boxWidth/this.boxHeight<this.width/this.height?(this.boxWidth,this.width,this.boxWidth/this.width):(this.boxHeight,this.height,this.boxHeight/this.height),this.canvasZoom=i,this.changeOneZoom(t,e),this.canvas.zoomToPoint(new fabric.Point((+t+this.winboxwidth)/2,(+e+this.winboxheight)/2),i),this.$emit("changeZoomTo",i),this.canvas.renderAll()},initbg:function(t){var e=this;console.log("初始化背景");var i=0,n=0;i=this.boxWidth>this.width*this.canvasZoom?this.boxWidth/2-this.width/2:0,n=this.boxHeight>this.height*this.canvasZoom?this.boxHeight/2-this.height/2:0,this.xLeft=-i,this.yTop=-n,console.log("left,top",i,n,"this.boxWidth",this.boxWidth,"this.width * this.canvasZoom",this.width,this.canvasZoom),t=T()({width:this.width,height:this.height,fill:"#fff",left:0,top:0,padding:0,angle:0,scaleX:1,scaleY:1},t);var o=new fabric.Rect(y()({},t,{left:i,top:n,type:"sBg",originX:"left",originY:"top",name:"background",selectable:!1,visible:!0,component:"bg",isType:"Rect",isDiff:"none",fill:"#fff",flipX:!1,flipY:!1,stopContextMenu:!0,hoverCursor:"default",evented:!1,hasControls:!1,strokeWidth:0,stroke:null,excludeFromExport:!0,perPixelTargetFind:!1}));this.canvas.remove(this.returnbg()),this.canvas.add(o),o.sendToBack(),setTimeout(function(){e.getBlack({width:e.width,height:e.height},2)},10),this.canvas.requestRenderAll(),this.canvas.renderAll()},getBlack:function(t,e){var i,n=(this.canvas.getZoom(),this),o=void 0,r=void 0;this.boxWidth>t.width*this.canvasZoom?(o=this.boxWidth/2-t.width/2,t.width):(o=0,t.width),this.boxHeight>t.height*this.canvasZoom?(r=this.boxHeight/2-t.height/2,t.height):(r=0,t.height);var a=n.returnbg();(i=n.canvas).remove.apply(i,b()(n.canvas.getObjects("sMask")));var s={selectable:!1,fill:"#f1f1f1",hoverCursor:"default",evented:!1,excludeFromExport:!0,hasControls:!1,perPixelTargetFind:!1,strokeWidth:0,stroke:null,originX:"left",originY:"top",lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,name:"sMask",type:"sMask"},A=new fabric.Rect(y()({},s,{left:a.left-1e3,top:a.top-2,width:1e3,height:1e3+t.height})),c=new fabric.Rect(y()({},s,{left:a.left-1e3,top:a.top-1e3,width:2e3+t.width,height:1e3})),l=new fabric.Rect(y()({},s,{left:t.width+a.left,top:a.top-2,width:1e3,height:1e3+t.height})),h=new fabric.Rect(y()({},s,{left:a.left-1e3,top:t.height+a.top,width:2e3+t.width,height:1e3}));n.canvas.add(A),A.bringToFront(),n.canvas.add(c),c.bringToFront(),n.canvas.add(l),l.bringToFront(),n.canvas.add(h),h.bringToFront(),n.canvas.requestRenderAll(),n.canvas.renderAll()},drawImgbg:function(t){var e=this;fabric.Image.fromURL("../../../static/images/ESL.png",function(i){var n;i.set({originX:"left",originY:"top",left:t.left,top:t.top,scaleX:(t.width+t.width/800*119)/i.width,scaleY:(t.height+t.height/800*102)/i.height,selectable:!1,excludeFromExport:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hoverCursor:"auto",name:"sImg",type:"sImg",evented:!1}),(n=e.canvas).remove.apply(n,b()(e.canvas.getObjects("sImg"))),e.canvas.add(i),i.bringToFront(),e.canvas.requestRenderAll(),e.canvas.renderAll()})},drawRulerInit:function(t,e){switch(e){case"ALL":this.drawRulerH(t),this.drawRulerV(t);break;case"HORIZONTAL":this.drawRulerH(t);break;case"VERTICAL":this.drawRulerV(t)}},drawRulerH:function(t){for(var e=this,i=[],n=0;n<(t.width+1)/50;n++){var o=new fabric.Line([50*n,0,50*n,t.gridHeight],{stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});i.push(o)}for(var r=[],a=0;a<t.width/50;a++){var s=50*a+"",A=new fabric.Text(s,{originX:"left",originY:"top",left:50*a+5,top:.01*t.gridHeight,fill:"#666",strokeWidth:.3,fontSize:12});r.push(A)}for(var c=[],l=0;l<t.width/10;l++){var h=new fabric.Line([5+10*l,.8*t.gridHeight,5+10*l,t.gridHeight],{stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});c.push(h)}for(var f=[],d=0;d<t.width/10;d++){var u=new fabric.Line([10+10*d,.6*t.gridHeight,10+10*d,t.gridHeight],{stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});f.push(u)}var g=new fabric.Group([].concat(i,r,c,f),{originX:"left",originY:"top",selectable:!1,excludeFromExport:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hoverCursor:"auto",name:"sRuler",left:t.left,top:t.top-t.gridHeight,type:"sRuler",evented:!1});e.canvas.add(g),g.bringToFront(),e.canvas.requestRenderAll(),e.canvas.renderAll()},drawRulerV:function(t){for(var e=this,i=[],n=0;n<(t.height+1)/50;n++){var o=new fabric.Line([0,50*n,t.gridWidth,50*n],{originX:"left",originY:"top",stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});i.push(o)}for(var r=[],a=0;a<t.height/50;a++)for(var s=50*a+"",A=0;A<s.length;A++){var c=new fabric.Text(s[A],{originX:"left",originY:"top",left:.01*t.gridWidth,top:12*A+(50*a+5),fill:"#666",strokeWidth:.3,fontSize:12,width:12});r.push(c)}for(var l=[],h=0;h<t.height/10;h++){var f=new fabric.Line([.8*t.gridWidth,5+10*h,t.gridWidth,5+10*h],{originX:"left",originY:"top",stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});l.push(f)}for(var d=[],u=0;u<t.height/10;u++){var g=new fabric.Line([.6*t.gridWidth,10+10*u,t.gridWidth,10+10*u],{originX:"left",originY:"top",stroke:t.lineColor,strokeWidth:t.axisWidth,strokeDashArray:[0,0]});d.push(g)}var p=new fabric.Group([].concat(i,r,l,d),{originX:"left",originY:"top",selectable:!1,excludeFromExport:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hoverCursor:"auto",name:"sRuler",left:t.left-t.gridWidth,top:t.top,type:"sRuler",evented:!1});e.canvas.add(p),p.bringToFront(),e.canvas.requestRenderAll(),e.canvas.renderAll()},resetInitbg:function(t){var e=this;console.log("重绘背景");var i=this.canvas.getZoom(),n=0,o=0;n=this.boxWidth>(t.width+t.width/800*55)*i?this.boxWidth/2-t.width/2:0,o=this.boxHeight>(t.height+t.height/800*51)*i?this.boxHeight/2-t.height/2:0,console.log(this.boxWidth,t.width*i,this.boxHeight,t.height*i),this.xLeft=-n,this.yTop=-o,t=T()({width:t.width,height:t.height,fill:"#fff",left:0,top:0,padding:0,angle:0,scaleX:1,scaleY:1},t);var r=new fabric.Rect(y()({},t,{left:n,top:o,type:"sBg",originX:"left",originY:"top",name:"background",selectable:!1,visible:!0,component:"bg",isType:"Rect",isDiff:"none",fill:"#fff",flipX:!1,flipY:!1,stopContextMenu:!0,hoverCursor:"default",evented:!1,hasControls:!1,strokeWidth:0,stroke:null,excludeFromExport:!0,perPixelTargetFind:!1}));this.canvas.remove(this.returnbg()),this.canvas.add(r),r.sendToBack(),setTimeout(function(){e.getBlack({width:t.width,height:t.height})},10),this.canvas.requestRenderAll(),this.canvas.renderAll()},changemoveing:function(t){this.isMoveing=t,this.canvas.skipTargetFind=!!t},changeSelection:function(t){this.canvas.selection=t},drawqrcode:function(t,e){var i=jrQrcode.getQrBase64(t,{padding:e.margin?e.margin:1,width:e.width?e.width:80,height:e.height?e.height:80,correctLevel:QRErrorCorrectLevel.H,reverse:!1,background:e.background?e.background:"#ffffff",foreground:e.lineColor?e.lineColor:"#000000"});return this.qrcodeImg=i,i},showMenu:function(){var t=this;if(this.showMouseRight)for(var e=this.canvas,i=event.clientX,n=event.clientY,o=e.getObjects(),r=o.length-1;r>=0;r--){var a=o[r];if(a.visible){if("component"!==a.component){event.preventDefault();continue}if(e.containsPoint(event,a)){if("TextRect-text"===a.isType){var s=this.getObjectsNew();s.forEach(function(e){e.id===a.id&&"TextRect"===e.isType&&t.setActiveObject(e)})}else this.setActiveObject(a);return this.contextMenuData.axis={x:i,y:n},void event.preventDefault()}}}},setScroll:function(t,e){this.scrollxW=this.boxWidth*this.boxWidth/t,this.scrollyH=this.boxHeight*this.boxHeight/e},returnXYshow:function(t){return!0===t?"visible":"hidden"},setNoSeeRuler:function(t){this.showYzhou=t,this.showXzhou=t},returnXYshowcanvas:function(t,e){return!0===t&&!0===e?18:0},show:function(t){if(document.getElementById("yZhou").scrollTop=document.getElementById("content").firstChild.childNodes[4].scrollTop,document.getElementById("xZhou").scrollLeft=document.getElementById("content").firstChild.childNodes[4].scrollLeft,this.showRuler[1]?this.height+18>this.boxHeight:this.height>this.boxHeight){var e=document.getElementById("content").scrollTop,i=document.getElementById("scrolly").parentNode.offsetHeight-8-50-18,n=document.getElementById("canvas").offsetHeight-document.getElementById("content").offsetHeight+30,o=e*i/n+18;document.getElementById("scrolly").style.top=o+"px"}if(this.showRuler[0]?this.width+18>this.boxWidth:this.width>this.boxWidth){var r=document.getElementById("content").scrollLeft,a=document.getElementById("scrollx").parentNode.offsetWidth-8-50-18,s=document.getElementById("canvas").offsetWidth-document.getElementById("content").offsetWidth+30,A=r*a/s+18;document.getElementById("scrollx").style.left=A+"px"}},yshow:function(t){document.getElementById("content").children[0].children[2].scrollTop=document.getElementById("yZhou").scrollTop,document.getElementById("content").children[0].children[2].scrollLeft=document.getElementById("xZhou").scrollLeft},yshowadd:function(){var t=void 0,e=void 0;if(this.boxHeight/2-this.height*this.canvasZoom/2>0){var i=this.boxHeight*(this.canvasZoom-1)/2,n=this.boxHeight*this.canvasZoom/2-this.height*this.canvasZoom/2;t=i<n?i:n}else t=this.boxHeight*this.canvasZoom/2-this.height*this.canvasZoom/2;if(this.boxWidth/2-this.width*this.canvasZoom/2>0){var o=this.boxWidth*(this.canvasZoom-1)/2,r=this.boxWidth*this.canvasZoom/2-this.width*this.canvasZoom/2;e=o<r?o:r}else e=this.boxWidth*this.canvasZoom/2-this.width*this.canvasZoom/2;document.getElementById("content").firstChild.childNodes[4].scrollTop=document.getElementById("yZhou").scrollTop=t,document.getElementById("content").firstChild.childNodes[4].scrollLeft=document.getElementById("xZhou").scrollLeft=e},toOrigin:function(t,e){document.getElementById("content").firstChild.childNodes[4].scrollTop=document.getElementById("yZhou").scrollTop=e,document.getElementById("content").firstChild.childNodes[4].scrollLeft=document.getElementById("xZhou").scrollLeft=t},scaleCalc:function(){var t=this.width>this.boxWidth?this.width:this.boxWidth,e=this.height>this.boxHeight?this.height:this.boxHeight;this.xScale=this.getCalc(this.xScale,t*this.canvasZoom,"x"),this.yScale=this.getCalc(this.yScale,e*this.canvasZoom,"y")},getCalc:function(t,e,i){if(t=[],"x"===i)for(var n=this.xLeft;n<e*this.stepLength/50;n+=this.stepLength)this.translateX=-n%this.stepLength-18,n%this.stepLength<0?t.push({id:n-n%this.stepLength-this.stepLength}):t.push({id:n-n%this.stepLength});else if("y"===i)for(var o=this.yTop;o<e*this.stepLength/50;o+=this.stepLength)this.translateY=-o%this.stepLength-18,o%this.stepLength<0?t.push({id:o-o%this.stepLength-this.stepLength}):t.push({id:o-o%this.stepLength});else for(var r=0;r<e*this.stepLength/50;r+=this.stepLength)r%this.stepLength==0&&t.push({id:r});return t},clickbody:function(t){this.isInRange(t.pageX,t.pageY)||(this.textareashow=!1)},isInRange:function(t,e){t=Math.round(t),e=Math.round(e);var i=document.getElementById("can").offsetLeft,n=document.getElementById("can").offsetTop;document.getElementById("content").children[0].children[2].scrollWidth,document.getElementById("content").children[0].children[2].scrollHeight;return t>this.style.left+i&&t<this.style.left+i+this.style.width&&e>this.style.top+n&&e<this.style.top+n+this.style.height},getObjects:function(){return this.canvas.getObjects()},setStackingtrue:function(){this.canvas.preserveObjectStacking=!0},getEditObj:function(){return this.canvas.getActiveObject()},getActiveObject:function(){return this.canvas.getActiveObject()},setActiveObject:function(t){this.canvas.setActiveObject(t),this.canvas.renderAll()},setActiveObjs:function(t){var e=this,i=[];t.forEach(function(t){e.canvas.getObjects().forEach(function(e){e.id===t&&"TextRect-text"!==e.isType&&i.push(e)})});var n=new fabric.ActiveSelection(i,{canvas:this.canvas});this.canvas.setActiveObject(n),this.canvas.requestRenderAll(),this.canvas.renderAll()},setActiveObjects:function(t){var e=new fabric.ActiveSelection(t,{canvas:this.canvas});this.canvas.setActiveObject(e),this.canvas.requestRenderAll(),this.canvas.renderAll()},setActiveid:function(t){var e=this.canvas.getObjects();for(var i in e)e[i].id===t&&"TextRect-text"!==e[i].isType&&this.canvas.setActiveObject(e[i]);this.canvas.requestRenderAll(),this.canvas.renderAll()},removeCurrentObj:function(){var t=this.canvas.getActiveObject(),e=[];if(t._objects){this.canvas.discardActiveObject();for(var i in t._objects)e.push(t._objects[i].id),this.canvas.remove(t._objects[i]);e.push(t.id),this.canvas.remove(t)}else{if("TextRect-text"===t.isType)return;e.push(t.id),this.canvas.remove(t)}return this.canvas.renderAll(),this.$emit("deleteidsdata",e),e},removeEditObj:function(){var t=this.canvas.getActiveObject();"TextRect-text"!==t.isType&&(this.$emit("deleteidsdata",[t.id]),this.canvas.remove(t))},deleteObjs:function(t){var e=this.canvas.getObjects();for(var i in e)e[i].id==t&&this.canvas.remove(e[i]);this.canvas.requestRenderAll(),this.canvas.renderAll()},removeObj:function(t){this.canvas.remove(t),this.canvas.renderAll()},addObj:function(t){this.canvas.add(t),this.canvas.renderAll()},setZoom:function(t){var e=this;this.canvasZoom=t;var i=this.width>this.boxWidth?this.width:this.boxWidth,n=this.height>this.boxHeight?this.height:this.boxHeight;this.canvas.setWidth(i*t),this.canvas.setHeight(n*t),this.canvas.setZoom(t),setTimeout(function(){e.canvas.renderAll(),e.$emit("changeZoomTo",t)},100)},ChangeZoom:function(t){this.canvasZoom=this.canvas.getZoom();var e=this.width>this.boxWidth?this.width:this.boxWidth,i=this.height>this.boxHeight?this.height:this.boxHeight;if(1===t){if(e*this.canvasZoom>1e4||i*this.canvasZoom>1e4)return;this.canvasZoom=this.canvasZoom+.1,this.canvas.setWidth(e*this.canvasZoom),this.canvas.setHeight(i*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.canvas.renderAll()}else if(0===t){if(e*(this.canvasZoom-.1)<this.boxWidth||i*(this.canvasZoom-.1)<this.boxHeight)return;this.canvasZoom=this.canvasZoom-.1,this.canvas.setWidth(e*this.canvasZoom),this.canvas.setHeight(i*this.canvasZoom),this.canvas.setZoom(this.canvasZoom),this.canvas.renderAll()}this.$emit("changeZoomTo",this.canvasZoom)},SetNewZoom:function(t,e,i){this.canvasZoom=t;var n=this.width>this.boxWidth?this.width:this.boxWidth,o=this.height>this.boxHeight?this.height:this.boxHeight;this.canvasZoom>1?(this.canvas.setWidth(n*this.canvasZoom),this.canvas.setHeight(o*this.canvasZoom),this.canvas.setZoom(this.canvasZoom)):(this.canvas.setWidth(n*(1/this.canvasZoom)),this.canvas.setHeight(o*(1/this.canvasZoom)),this.canvas.setZoom(this.canvasZoom)),this.changeOneZoom(e,i),this.canvas.zoomToPoint(new fabric.Point((+e+this.winboxwidth)/2,(+i+this.winboxheight)/2),t),this.$emit("changeZoomTo",t),this.canvas.renderAll()},returnSmallScale:function(){this.canvasZoom=this.canvas.getZoom();var t=this.width>this.boxWidth?this.width:this.boxWidth,e=this.height>this.boxHeight?this.height:this.boxHeight;t*(this.canvasZoom-.1)<this.boxWidth||(this.canvasZoom,this.boxHeight)},setbackgroundColor:function(t){this.canvas.backgroundColor=t,this.canvas.requestRenderAll(),this.canvas.renderAll()},setbackground:function(t){var e=this,i=this.canvas.getObjects(),n=this;i.forEach(function(i){if("sBg"===i.type){if("transparent"===t){var o=e;fabric.util.loadImage("./static/images/psbg.png",function(t){i.set("fill",new fabric.Pattern({source:t,repeat:"repeat"})),o.setTop(),o.canvas.requestRenderAll(),o.canvas.renderAll()})}else i.fill=t;setTimeout(function(){n.ChangeZoom(1),n.ChangeZoom(0)},1)}}),this.setTop(),this.canvas.requestRenderAll(),this.canvas.renderAll()},discardActive:function(){this.canvas.discardActiveObject(),this.canvas.requestRenderAll(),this.canvas.renderAll()},moveToshow:function(t,e){this.canvas.moveTo(t,e),this.canvas.requestRenderAll(),this.canvas.renderAll()},setWidth:function(t){this.canvas.setWidth(t)},setHeight:function(t){this.canvas.setHeight(t)},setShow:function(t){var e=this.canvas.getObjects();for(var i in e)e[i].id===t&&(e[i].set("selectable",!0),e[i].set("visible",!0),e[i].set("opacity",1),e[i].set("eyeshow",!0),e[i]._objects&&e[i]._objects.forEach(function(t){t.set("visible",!0),t.set("opacity",1),t.set("eyeshow",!0)}),this.canvas.requestRenderAll(),this.canvas.renderAll())},setHidden:function(t){var e=this.canvas.getObjects();for(var i in e)e[i].id===t&&(e[i].set("selectable",!1),e[i].set("visible",!1),e[i].set("opacity",0),e[i].set("eyeshow",!1),this.canvas.requestRenderAll(),this.canvas.renderAll())},setNomove:function(){this.canvas.selection=!1,this.canvas.renderAll()},rename:function(t,e){var i=this.canvas.getObjects();for(var n in i)i[n].id===t&&(i[n].set("name",e),this.canvas.requestRenderAll())},toNextLayer:function(){var t=this.canvas.getActiveObject();t&&(t.sendBackwards(!0),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},toBottomLayer:function(){var t=this.canvas.getActiveObject();if(t){this.getObjectsNew().forEach(function(e){e.id===t.id&&"TextRect-text"===e.isType&&e.sendToBack()}),t.sendToBack(),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t)}},toLastLayer:function(){var t=this.canvas.getActiveObject();t&&(t.bringForward(!0),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))},toTopLayer:function(){var t=this.canvas.getActiveObject();if(t){t.bringToFront();this.getObjectsNew().forEach(function(e){e.id===t.id&&"TextRect-text"===e.isType&&e.bringToFront()}),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t)}},moveTo:function(){var t=this.canvas.getActiveObject();this.canvas.sendBackwards(t,!0)}},r()(n,"moveToshow",function(t,e){this.canvas.getActiveObject()&&(this.canvas.moveTo(t,e),this.canvas.renderTop(),this.canvas.renderAll(),this.setTop(),this.$emit("changeLayer",t))}),r()(n,"copyData",function(){var t=this.canvas.getActiveObject();if(void 0!=t&&null!=t){if("group"===t.get("type"))return"#ZKONG#"+escape(v()(t));if("activeSelection"===t.get("type")){var e=JSON.parse(v()(t._objects)),i=[];return e.map(function(e){e.top=t.top+e.top,e.left=t.left+e.left,i.push(e)}),i[0].parentscale=[t.scaleX,t.scaleY],"#ZKONG#"+escape(v()(i))}return"#ZKONG#"+escape(v()(t))}}),r()(n,"paste",function(t){var e=this;return g()(d.a.mark(function i(){var n,o,r,a,s,A,c;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=e.clipboard){i.next=2;break}return i.abrupt("return");case 2:if(e.canvas.discardActiveObject(),"#ZKONG#"===t.substring(0,7)){i.next=5;break}return i.abrupt("return");case 5:if(!((n=JSON.parse(unescape(t.substring(7,t.length))))instanceof Array)){i.next=38;break}o=[],e.activecanvaobjs=[],i.t0=d.a.keys(n);case 10:if((i.t1=i.t0()).done){i.next=33;break}return r=i.t1.value,e.$emit("idAdd"),e.cid=e.cid+1,a=n[r],a.copyId=JSON.parse(v()(a.id)),a.id=e.cid,a.zIndex=e.cid,a.visible=!0,a.top=a.top+10+e.yTop,a.left=a.left+10+e.xLeft,"Barcode"===a.isType&&(a.width=a.width*a.scaleX,a.height=a.height*a.scaleY,a.scaleX=a.scaleY=1),"Text"===a.isType&&(a.width=parseInt(a.width*a.scaleX),a.height=parseInt(a.height*a.scaleY),a.scaleX=1,a.scaleY=1,e.$emit("idAdd"),e.cid=e.cid+1),"TextRect"===a.isType&&(a.width=parseInt(a.width*a.scaleX),a.height=parseInt(a.height*a.scaleY),a.scaleX=1,a.scaleY=1,a.textAlign=a.textRectData.textAlign,a.fontWeight=a.textRectData.fontWeight?a.textRectData.fontWeight:"normal",a.linethrough=!!a.textRectData.linethrough&&a.textRectData.linethrough,a.underline=!!a.textRectData.underline&&a.textRectData.underline,a.fontStyle=a.textRectData.fontStyle?a.textRectData.fontStyle:"normal"),"Icon"===a.isType&&(a.width=parseInt(a.width*a.scaleX),a.height=parseInt(a.height*a.scaleY),a.scaleX=1,a.scaleY=1),"Image"===a.isType&&(a.width=parseInt(a.width*a.scaleX),a.height=parseInt(a.height*a.scaleY),a.scaleX=1,a.scaleY=1),"Image2"===a.isType&&(a.width=parseInt(a.width*a.scaleX),a.height=parseInt(a.height*a.scaleY),a.scaleX=1,a.scaleY=1),i.next=29,e.createElement(a.isType,a);case 29:s=i.sent,s&&(e.$emit("copydata",a,[s.id],n),e.$emit("copyidsdata",[s.id]),o.push(s)),i.next=10;break;case 33:A=new fabric.ActiveSelection(o,{canvas:e.canvas}),A.set({scaleX:n[0].parentscale[0],scaleY:n[0].parentscale[1]}),e.canvas.setActiveObject(A),i.next=73;break;case 38:if(console.log("单元素"),"TextRect-text"!==n.isType){i.next=41;break}return i.abrupt("return");case 41:if(e.$emit("idAdd"),e.cid=e.cid+1,c=void 0,n.copyId=JSON.parse(v()(n.id)),n.id=e.cid,n.zIndex=e.cid,n.top=n.top+10+e.yTop,n.left=n.left+10+e.xLeft,n.visible=!0,"Rect"!==n.isType&&"Circle"!==n.isType&&"Rectangle"!==n.isType&&"Parallelogram"!==n.isType&&"EqualCircle"!==n.isType&&"Dottedline"!==n.isType&&"star"!==n.isType&&"Hexagon"!==n.isType&&"EqualTriangle"!==n.isType||(n.fill=n.color),"Barcode"===n.isType&&(n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1),"Text"===n.isType&&(n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1),"Icon"===n.isType&&(n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1),"Image"===n.isType&&(n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1),"Image2"===n.isType&&(n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1),"TextRect"!==n.isType){i.next=68;break}return n.width=parseInt(n.width*n.scaleX),n.height=parseInt(n.height*n.scaleY),n.scaleX=1,n.scaleY=1,i.next=63,e.createElement(n.isType,y()({},n,{fontFamily:n.textRectData.fontFamily?n.textRectData.fontFamily:"MicrosoftYaHei",textAlign:n.textRectData.textAlign?n.textRectData.textAlign:"left",fontSize:n.textRectData.fontSize?n.textRectData.fontSize:14,angle:n.textRectData.angle?n.textRectData.angle:0,fontColor:n.textRectData.fontColor?n.textRectData.fontColor:"#000000",fontWeight:n.textRectData.fontWeight?n.textRectData.fontWeight:"normal",linethrough:!!n.textRectData.linethrough&&n.textRectData.linethrough,underline:!!n.textRectData.underline&&n.textRectData.underline,fontStyle:n.textRectData.fontStyle?n.textRectData.fontStyle:"normal"}));case 63:c=i.sent,e.$emit("idAdd"),e.cid=e.cid+1,i.next=72;break;case 68:return console.log("单个元素复制出来",n),i.next=71,e.createElement(n.isType,n);case 71:c=i.sent;case 72:c&&(e.$emit("copydata",n,[c.id],n),e.$emit("copyidsdata",[c.id]),e.canvas.setActiveObject(c));case 73:e.clipboard=null,e.canvas.requestRenderAll();case 75:case"end":return i.stop()}},i,e)}))()}),r()(n,"copypaste",function(){var t=this.copyData();this.clipboard=t,this.paste(t)}),r()(n,"initBgRect",function(t){var e,i,n=0,o=0;n=this.boxWidth>this.width*this.canvasZoom?this.boxWidth/2-this.width/2:0,o=this.boxHeight>this.height*this.canvasZoom?this.boxHeight/2-this.height/2:0,this.xLeft=-n,this.yTop=-o,this.$emit("setlefttop",n,o),this.setStackingtrue(),this.scaleCalc(),t=T()({width:this.width,height:this.height,left:0,top:0,padding:0,angle:0,scaleX:1,scaleY:1},t);var r=new fabric.Rect(y()({},t,{left:n,top:o,type:"sBg",name:"background",component:"bg",isType:"Rect",isDiff:"none",selectable:!1,visible:!0,fill:"#fff",flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,hoverCursor:"default",evented:!1,hasControls:!1,strokeWidth:0,stroke:null,excludeFromExport:!0,perPixelTargetFind:!1}));(e=this.canvas).remove.apply(e,b()(this.canvas.getObjects("sBg"))),this.canvas.add(r),r.sendToBack();var a=void 0,s=void 0,A=void 0,c=void 0;this.boxWidth>this.width*this.canvasZoom?(a=this.boxWidth/2-this.width/2,s=a+this.width):(a=0,s=this.width),this.boxHeight>this.height*this.canvasZoom?(A=this.boxHeight/2-this.height/2,c=A+this.height):(A=0,c=this.height);var l=[0,a,s,s+a],h=[0,A,c,c+A],f={selectable:!1,fill:"#f1f1f1",hoverCursor:"default",evented:!1,excludeFromExport:!0,hasControls:!1,perPixelTargetFind:!1,strokeWidth:0,stroke:null,originX:"left",originY:"top"},d=new fabric.Rect({left:l[0],top:h[0],width:l[1]-l[0],height:h[3]-h[0]}),u=new fabric.Rect({left:l[1],top:h[0],width:l[3]-l[1]+2,height:h[1]-h[0]}),g=new fabric.Rect({left:l[2],top:h[1]-1,width:l[3]-l[2],height:h[2]-h[1]+2}),p=new fabric.Rect({left:l[1],top:h[2],width:l[3]-l[1],height:h[3]-h[2]});d.set(y()({name:"mask1"},f,{fill:"red"})),u.set(y()({name:"mask2"},f,{fill:"yellow"})),g.set(y()({name:"mask3"},f,{fill:"blue"})),p.set(y()({name:"mask4"},f,{fill:"green"})),(i=this.canvas).remove.apply(i,b()(this.canvas.getObjects("sMask")));var v=new fabric.Group([d,u,g,p],{originX:"left",originY:"top",selectable:!1,excludeFromExport:!0,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hoverCursor:"auto",name:"grid",left:0,top:0,type:"sMask",evented:!1});this.canvas.add(v),v.bringToFront(),this.canvas.requestRenderAll(),this.canvas.renderTop(),this.canvas.renderAll()}),r()(n,"setTop",function(){var t=this;this.canvas.getObjects().forEach(function(e){"sMask"==e.type&&(e.zIndex=-1,e.bringToFront(),t.canvas.renderTop(),t.canvas.renderAll()),"sRuler"==e.type&&(e.zIndex=-1,e.bringToFront(),t.canvas.renderTop(),t.canvas.renderAll()),"sBg"==e.type&&(e.zIndex=-5,e.sendToBack(),t.canvas.renderTop(),t.canvas.renderAll())})}),r()(n,"toHorizontalCenterDistribution",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e&&e._objects){var i=[];e._objects.sort(function(t,e){return t.left-e.left});for(var n in e._objects)e._objects[n].left=n*(e.getBoundingRect().width/(t*e.scaleX)/(e._objects.length-1))-e.getBoundingRect().width/(t*e.scaleX)/2-n*(e._objects[n].width*e._objects[n].scaleX/(e._objects.length-1)),"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(n,o){"TextRect"===n.isType&&-1===i.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("left",e.left+o*(e.getBoundingRect().width/(t*e.scaleX)/(e._objects.length-1))-e.getBoundingRect().width/(t*e.scaleX)/2-o*(e._objects[o].width*e._objects[o].scaleX/(e._objects.length-1))-n.text.offsetLeft):n.text.set("left",e.left+o*(e.getBoundingRect().width/(t*e.scaleX)/(e._objects.length-1))-e.getBoundingRect().width/(t*e.scaleX)/2-o*(e._objects[o].width*e._objects[o].scaleX/(e._objects.length-1))))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toVerticalCenterDistribution",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e&&e._objects){var i=[];e._objects.sort(function(t,e){return t.top-e.top});for(var n in e._objects)e._objects[n].top=n*(e.getBoundingRect().height/(t*e.scaleY)/(e._objects.length-1))-e.getBoundingRect().height/(t*e.scaleY)/2-n*(e._objects[n].height*e._objects[n].scaleY/(e._objects.length-1)),"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(n,o){"TextRect"===n.isType&&-1===i.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("top",e.top+o*(e.getBoundingRect().height/(t*e.scaleY)/(e._objects.length-1))-e.getBoundingRect().height/(t*e.scaleY)/2-o*(e._objects[o].height*e._objects[o].scaleY/(e._objects.length-1))-n.text.offsetTop):n.text.set("top",e.top+o*(e.getBoundingRect().height/(t*e.scaleY)/(e._objects.length-1))-e.getBoundingRect().height/(t*e.scaleY)/2-o*(e._objects[o].height*e._objects[o].scaleY/(e._objects.length-1))))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toLeftAlign",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e&&e._objects){var i=[];for(var n in e._objects)e._objects[n].left=-e.getBoundingRect().width/(t*e.scaleX)/2,"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(n){"TextRect"===n.isType&&-1===i.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("left",e.left-e.getBoundingRect().width/(t*e.scaleX)/2-n.text.offsetLeft):n.text.set("left",e.left-e.getBoundingRect().width/(t*e.scaleX)/2))}),this.canvas.requestRenderAll(),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toHorizontalCenterAlign",function(){var t=this.getEditObj();if(t&&t._objects){var e=[];for(var i in t._objects)t._objects[i].left=-t._objects[i].width*t._objects[i].scaleX/2,"TextRect-text"===t._objects[i].isType&&e.push(t._objects[i].id);t._objects.forEach(function(n){"TextRect"===n.isType&&-1===e.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("left",t.left-t._objects[i].width*t._objects[i].scaleX/2-n.text.offsetLeft):n.text.set("left",t.left-t._objects[i].width*t._objects[i].scaleX/2))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toRightAlign",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e){var i=[];if(e._objects){for(var n in e._objects)e._objects[n].left=e.getBoundingRect().width/(t*e.scaleX)/2-e._objects[n].width*e._objects[n].scaleX,"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(o){"TextRect"===o.isType&&-1===i.indexOf(o.id)&&(2===o.isElasticSize?o.text.set("left",e.left+e.getBoundingRect().width/(t*e.scaleX)/2-e._objects[n].width*e._objects[n].scaleX-o.text.offsetLeft):o.text.set("left",e.left+e.getBoundingRect().width/(t*e.scaleX)/2-e._objects[n].width*e._objects[n].scaleX))}),this.canvas.renderTop(),this.canvas.renderAll()}}}),r()(n,"toTopAlign",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e&&e._objects){var i=[];for(var n in e._objects)e._objects[n].top=-e.getBoundingRect().height/(t*e.scaleY)/2,"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(n){"TextRect"===n.isType&&-1===i.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("top",e.top-e.getBoundingRect().height/(t*e.scaleY)/2-n.text.offsetTop):n.text.set("top",e.top-e.getBoundingRect().height/(t*e.scaleY)/2))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toVerticalCenterAlign",function(){var t=this.getEditObj();if(t&&t._objects){var e=[];for(var i in t._objects)t._objects[i].top=-t._objects[i].height*t._objects[i].scaleY/2,"TextRect-text"===t._objects[i].isType&&e.push(t._objects[i].id);t._objects.forEach(function(n){"TextRect"===n.isType&&-1===e.indexOf(n.id)&&(2===n.isElasticSize?n.text.set("top",t.top-t._objects[i].height*t._objects[i].scaleY/2-n.text.offsetTop):n.text.set("top",t.top-t._objects[i].height*t._objects[i].scaleY/2))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"toBottomAlign",function(){var t=this.canvas.getZoom(),e=this.getEditObj();if(e&&e._objects){var i=[];for(var n in e._objects)e._objects[n].top=e.getBoundingRect().height/(t*e.scaleY)/2-e._objects[n].height*e._objects[n].scaleY,"TextRect-text"===e._objects[n].isType&&i.push(e._objects[n].id);e._objects.forEach(function(o){"TextRect"===o.isType&&-1===i.indexOf(o.id)&&(2===o.isElasticSize?o.text.set("top",e.top+e.getBoundingRect().height/(t*e.scaleY)/2-e._objects[n].height*e._objects[n].scaleY-o.text.offsetTop):o.text.set("top",e.top+e.getBoundingRect().height/(t*e.scaleY)/2-e._objects[n].height*e._objects[n].scaleY))}),this.canvas.renderTop(),this.canvas.renderAll()}}),r()(n,"drawbarcode",function(t,e){return new h.a(function(i,n){var o=document.getElementById("barbox"),r=document.createElement("img"),a="barcode"+e.id;r.id="barcode"+e.id;var s=o.childNodes,A=[];s.forEach(function(t){A.push(t.getAttribute("id"))}),-1==A.indexOf(a)&&o.appendChild(r),JsBarcode("#barcode"+e.id,t,{format:e.format?e.format:"CODE128",lineColor:e.lineColor?e.lineColor:"#000000",margin:e.margin?e.margin:0,width:e.lineWidth?e.lineWidth:2,height:e.height?e.height:20,displayValue:!1}),document.getElementById("barcode"+e.id).onload=function(){var t=document.getElementById("barcode"+e.id).src;i(t)},document.getElementById("barcode"+e.id).onerror=function(){n(new Error("barcode is error!"))}})}),r()(n,"createElement",function(t,e){var i=this;return g()(d.a.mark(function n(){var o,r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return o=void 0,r=void 0,n.abrupt("return",new h.a(function(){var n=g()(d.a.mark(function n(a,s){var A,l,h,f,u,g,p,v,m,b,x,w,T,k,S,j,R,I,C,O,E,_,L,X,Y;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:A=i.canvas,l=i,e=y()({},e,{id:e.id?e.id:1,zIndex:e.zIndex?e.zIndex:1,component:"component",isDiff:"static",padding:0,scaleX:e.scaleX?e.scaleX:1,scaleY:e.scaleY?e.scaleY:1,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:e.left?-i.xLeft+e.left:-i.xLeft,top:e.top?-i.yTop+e.top:-i.yTop,width:e.width?e.width:60,height:e.height?e.height:30,angle:e.angle?e.angle:0,fill:e.fill?e.fill:"#000000",fillColor:e.fillColor?e.fillColor:"rgba(0,0,0,0)",backgroundColor:e.backgroundColor?e.backgroundColor:"",stroke:e.stroke?e.stroke:"",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],selectable:!1!==e.selectable||e.selectable,visible:e.visible,eyeshow:!e.eyeshow||e.eyeshow,hasRotatingPoint:!1!==e.hasRotatingPoint||e.hasRotatingPoint,screenIndex:e.screenIndex?e.screenIndex:0}),n.t0=t,n.next="Rect"===n.t0?6:"Rectangle"===n.t0?10:"Parallelogram"===n.t0?14:"Circle"===n.t0?18:"EqualCircle"===n.t0?22:"Dottedline"===n.t0?26:"EqualTriangle"===n.t0?35:"star"===n.t0?40:"Hexagon"===n.t0?45:"Image"===n.t0?51:"Image2"===n.t0?55:"Image3"===n.t0?60:"Icon"===n.t0?65:"duanImage"===n.t0?71:"equalImage"===n.t0?76:"Barcode"===n.t0?78:"Qrcode"===n.t0?83:"Text"===n.t0?89:"Time"===n.t0?93:"Itext"===n.t0?97:"Textbox"===n.t0?100:"TextRectBox"===n.t0?103:"Html"===n.t0?118:"TextRect"===n.t0?128:"tableView"===n.t0?135:"tableList"===n.t0?140:144;break;case 6:return r=y()({},e,{fill:e.color?e.color:"#000000",isType:"Rect",name:e.name?e.name:"Rect",rx:0,ry:0}),o=new fabric.Rect(y()({},r)),o.on("scaled",function(t){t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1)}),n.abrupt("break",145);case 10:return r=y()({},e,{isType:"Rectangle",name:e.name?e.name:"Rectangle",rx:e.rx?e.rx:15,ry:e.ry?e.ry:15}),o=new fabric.Rect(y()({},r)),o.on("scaled",function(t){t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1)}),n.abrupt("break",145);case 14:return r=y()({},e,{isType:"Parallelogram",name:e.name?e.name:"Parallelogram",rx:0,ry:0,skewX:e.skewX?e.skewX:-45,skewY:0}),o=new fabric.Rect(y()({},r)),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 18:return r=y()({},e,{isType:"Circle",name:e.name?e.name:"Circle",rx:e.width/2,ry:e.height/2}),o=new fabric.Ellipse(y()({},r)),o.on("scaled",function(t){t.target.set("rx",parseInt(t.target.width*t.target.scaleX/2)),t.target.set("ry",parseInt(t.target.height*t.target.scaleY/2)),t.target.set("scaleX",1),t.target.set("scaleY",1)}),n.abrupt("break",145);case 22:return r=y()({},e,{isType:"EqualCircle",name:e.name?e.name:"EqualCircle",radius:e.width/2}),o=new fabric.Circle(y()({},r)),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 26:return r=y()({},e,{isType:"Dottedline",name:e.name?e.name:"Dottedline",DottedlineType:e.DottedlineType?e.DottedlineType:1,strokeDashArray:3===e.DottedlineType?[10,4,3,4]:2===e.DottedlineType?[8,2]:[0,0],stroke:e.stroke?e.stroke:"#000000",strokeWidth:e.strokeWidth}),h=-i.xLeft+e.left,f=-i.xLeft+e.left+e.width,u=-i.yTop+e.top,g=-i.yTop+e.top,o=new fabric.Line([h,u,f,g],y()({},r)),o.setControlsVisibility({bl:!1,br:!1,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!1,tr:!1}),o.on("scaled",function(t){t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1)}),n.abrupt("break",145);case 35:return r=y()({},e,{width:60,height:52,isType:"EqualTriangle",name:e.name?e.name:"EqualTriangle"}),console.log(r),o=new fabric.Triangle(y()({},r)),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 40:return e={width:180,height:188,left:e.left,top:e.top},p=[{x:e.width/2,y:0},{x:e.width/2-e.width*Math.sin(18*Math.PI/180),y:e.width*Math.cos(18*Math.PI/180)},{x:e.width,y:e.width*Math.sin(18*Math.PI/180)/Math.cos(36*Math.PI/180)*Math.cos(18*Math.PI/180)},{x:0,y:e.width*Math.sin(18*Math.PI/180)/Math.cos(36*Math.PI/180)*Math.cos(18*Math.PI/180)},{x:e.width/2+e.width*Math.sin(18*Math.PI/180),y:e.width*Math.cos(18*Math.PI/180)}],o=new fabric.Polygon(p,{isType:"star",originX:"left",originY:"top",left:e.left,top:e.top,fill:"rgba(0,0,0,1)"}),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 45:return r={width:100,height:100,left:e.left,top:e.top},v=Math.sqrt(r.width*r.width+r.height*r.height)/2,m=c()({length:6}).map(function(t,e){return{x:Math.cos(60*e/180*Math.PI)*v,y:Math.sin(60*e/180*Math.PI)*v}}),o=new fabric.Polygon(m,{originX:"left",originY:"top",left:e.left,top:e.top,isType:"Hexagon",fill:"#ff0000",width:Math.sqrt(Math.pow(r.height,2)+Math.pow(r.height/2,2)),height:r.height}),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 51:return n.next=53,l.createURLImage(e);case 53:return o=n.sent,n.abrupt("break",145);case 55:return n.next=57,l.createURLImage(e);case 57:return o=n.sent,o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("return",o);case 60:return n.next=62,l.createURLImage(e);case 62:return o=n.sent,o.setControlsVisibility({bl:!0,br:!0,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!0,tr:!0}),n.abrupt("return",o);case 65:return n.next=67,l.createIcon(e);case 67:return o=n.sent,o.setControlsVisibility({bl:!0,br:!0,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!0,tr:!0}),a(o),n.abrupt("return",o);case 71:return n.next=73,l.createDuan(e);case 73:return o=n.sent,console.warn(o),n.abrupt("return",o);case 76:return o=l.createEqualImageImage(e),n.abrupt("return",o);case 78:return n.next=80,l.createBarcode(e);case 80:return o=n.sent,a(o),n.abrupt("return",o);case 83:return e.imgText=e.imgText?e.imgText:"123456789",n.next=86,l.createQrcode(e);case 86:return o=n.sent,a(o),n.abrupt("return",o);case 89:return n.next=91,i.createText(e.textdemo,e);case 91:return o=n.sent,n.abrupt("break",145);case 93:return r=y()({},e,{isType:"Time",name:e.name?e.name:"Time"}),o=new fabric.Text(e.textdemo,r),o.setControlsVisibility({bl:!0,br:!0,mb:!1,ml:!1,mr:!1,mt:!1,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 97:return r=y()({},e,{isType:"Itext",name:e.name?e.name:"Itext"}),o=new fabric.IText(e.textdemo,y()({},r)),n.abrupt("break",145);case 100:return r=y()({},e,{isType:"Textbox",name:e.name?e.name:"Textbox",breakWords:!0}),o=new fabric.Textbox(e.textdemo,y()({},r)),n.abrupt("break",145);case 103:return b={width:e.width,height:e.height,content:e.content?e.content:"Text",fontSize:e.fontSize?e.fontSize:14,fontType:e.fontType?e.fontType:"微软雅黑",fill:e.color?e.color:"",textAlign:e.horizontalAlign&&0!==e.horizontalAlign?1===e.horizontalAlign?"center":"right":"left",fontWeight:1===e.ifBold?"bold":"normal",linethrough:1===e.ifStrikeThrough,underline:1===e.ifUnderline,fontStyle:1===e.ifItalic?"italic":"normal",lineHeight:(e.fontSize+e.verticalSpace)/e.fontSize,prefix:e.prefix,postfix:e.postfix,maxLines:e.maxLines?e.maxLines:3,omitStyle:e.omitStyle?e.omitStyle:0,lineBreak:e.lineBreak?e.lineBreak:"",omitStyleText:0===e.omitStyle?"无":"…",newline:e.lineBreak?e.lineBreak:"",originX:"left",originY:"top",backgroundColor:"",isType:"TextRectBox-text",name:e.name?e.name:"TextRectBox-text",splitByGrapheme:!0,breakWords:!0},x=new fabric.Textbox(e.prefix+e.content+e.postfix,y()({},b)),w=i.newtextStyleFormat(x,e.prefix+e.content+e.postfix),x.set({text:w}),T={width:e.width,height:e.height,fill:e.fillColor?e.fillColor:"rgba(0,0,0,0)",stroke:e.borderColor?e.borderColor:"",strokeWidth:e.lineWeight?e.lineWeight:0,strokeDashArray:1===e.borderType?[0,0]:2===e.borderType?[5,1]:3===e.borderType?[5,2,1,2]:[0,0],originX:"center",originY:"center",isType:"TextRectBox-rect",name:e.name?e.name:"TextRectBox-rect",rx:0,ry:0,left:0,top:0},k=new fabric.Rect(y()({},T)),o=new fabric.Group([k,x],{padding:0,originX:"left",originY:"top",name:e.name?e.name:"TextRectBox",isType:"TextRectBox",component:"component",isDiff:"static",left:e.left,top:e.top,id:e.id,copyId:e.copyId,zIndex:e.zIndex,angle:e.angle,width:e.width,height:e.height,visible:e.visible,selectable:!1!==e.selectable||e.selectable,type:e.type?e.type:"TextRectBox",barcodeType:e.barcodeType?e.barcodeType:10,stroke:e.borderColor?e.borderColor:"",strokeWidth:e.lineWeight?e.lineWeight:0,strokeDashArray:1===e.borderType?[0,0]:2===e.borderType?[5,1]:3===e.borderType?[5,2,1,2]:[0,0],conRealResult:e.conRealResult?e.conRealResult:1,content:e.content?e.content:"TEXT1",dateFormat:"",decimalSeparator:e.decimalSeparator?e.decimalSeparator:".",thousandSeparator:e.thousandSeparator?e.thousandSeparator:",",fieldCode:"",fillColor:"",fontSize:e.fontSize?e.fontSize:14,fontType:e.fontType?e.fontType:"微软雅黑",ifBold:e.ifBold?e.ifBold:0,ifCondition:e.ifCondition?e.ifCondition:0,ifItalic:e.ifItalic?e.ifItalic:0,ifStrikeThrough:e.ifStrikeThrough?e.ifStrikeThrough:0,ifUnderline:e.ifUnderline?e.ifUnderline:0,icon:null,itemOrder:e.itemOrder?e.itemOrder:1,itemPictureNameId:e.itemPictureNameId?e.itemPictureNameId:null,layer:e.layer?e.layer:0,lineBreak:e.lineBreak?e.lineBreak:"",lineWeight:e.lineWeight?e.lineWeight:0,marginLeft:e.marginLeft?e.marginLeft:0,marginTop:e.marginTop?e.marginTop:0,maxLines:e.maxLines?e.maxLines:3,minFontSize:e.minFontSize?e.minFontSize:12,omitStyle:e.omitStyle?e.omitStyle:0,postfix:e.postfix?e.postfix:"",prefix:e.prefix?e.prefix:"",scaleX:e.scaleX?e.scaleX:1,scaleY:e.scaleY?e.scaleY:1,templateBaseId:e.templateBaseId?e.templateBaseId:null,textAdvanceProperty:e.textAdvanceProperty?e.textAdvanceProperty:0,verticalAlign:e.verticalAlign?e.verticalAlign:0,horizontalAlign:e.horizontalAlign?e.horizontalAlign:0,verticalSpace:e.verticalSpace?e.verticalSpace:0,lockRotation:!1,flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,hasRotatingPoint:!0,eyeshow:e.eyeshow,screenIndex:e.screenIndex}),o.item(0).set({left:0,top:0}),o.item(1).set({top:-e.height/2,left:-e.width/2,width:e.width,height:e.height}),o.set({clipTo:function(t){t.rect(-o.width/2,-o.height/2,o.width,o.height)}}),o.on("mousedblclick",function(t){console.log("mousedblclick",t),i.canvas.preserveObjectStacking=!0,t.target._objects[1].selectable=!0,t.target._objects[1].evented=!0,i.canvas.setActiveObject(t.target._objects[1]),t.target._objects[1].enterEditing(),t.target.selectable=!1,t.target._objects[0].evented=!1,i.canvas.renderAll.bind(i.canvas),t.target._objects[1].set({top:-t.target.height/2,left:-t.target.width/2})}),o.on("scaling",function(t){t.target._objects[1].set({width:t.target.width*t.target.scaleX,height:t.target.height*t.target.scaleY,scaleX:1/t.target.scaleX,scaleY:1/t.target.scaleY}),o.set({clipTo:function(t){t.rect(-o.width/2,-o.height/2,o.width,o.height)}}),this.canvas.requestRenderAll(),this.canvas.renderAll()}),o.on("scaled",function(t){var e=l.newtextStyleFormat(t.target._objects[1],t.target.prefix+t.target.content+t.target.postfix);t.target._objects[1].set({text:e}),t.target._objects[1].set({top:-t.target.height/2,left:-t.target.width/2}),l.canvas.requestRenderAll(),l.canvas.renderAll()}),o.setControlsVisibility({bl:!0,br:!0,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!0,tr:!0}),n.abrupt("break",145);case 118:return S={underline:!0},j={fontStyle:"italic"},R={fontWeight:"bold"},I={linethrough:!0},C={fill:"#f00"},r=y()({},e,{isType:"Html",name:e.name?e.name:"Html",breakWords:!0,fontFamily:"宋体",lineHeight:1.5,editable:!1,backgroundColor:"#FFFFFF",styles:{0:{23:R,24:R,25:R,26:R,28:j,29:j,30:j,31:j,32:j,33:j,35:S,36:S,37:S,38:S,39:S,40:S,41:S,42:S,43:S,45:I,46:I,47:I,48:I,49:I,50:I,51:I,52:I,53:I,54:I,60:C,61:C,62:C,63:C,64:C},1:{0:R,1:R,2:R,3:R,5:j,6:j,7:j,8:j,9:j,10:j,12:S,13:S,14:S,15:S,16:S,17:S,18:S,19:S,20:S,21:S},2:{0:I,1:I,2:I,3:I,4:I,5:I,6:I,7:I,8:I,9:I,15:C,16:C,17:C,18:C,19:C}}}),o=new fabric.Textbox("Test HTML text display bold italic underline underscore and color.",y()({},r)),o.set({height:r.height,clipTo:function(t){t.rect(-o.width/2,-o.height/2,o.width,o.height)}}),o.setControlsVisibility({bl:!1,br:!1,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!0,tl:!1,tr:!1}),n.abrupt("break",145);case 128:return O={id:e.id,zIndex:e.zIndex?e.zIndex:e.id,copyId:e.copyId,type:e.type,left:e.left,top:e.top,angle:e.angle,xLeft:e.xLeft?e.xLeft:0,xRight:e.xRight?e.xRight:0,yTop:e.yTop?e.yTop:0,yBot:e.yBot?e.yBot:0,width:e.width,height:e.height,fill:"",rectColor:e.rectColor?e.rectColor:"#ffffff",stroke:e.stroke?e.stroke:"",strokeWidth:e.strokeWidth?e.strokeWidth:null,strokeDashArray:[3,1],fontColor:e.fontColor?e.fontColor:"#000000",fontSize:e.fontSize?e.fontSize:14,fontFamily:e.fontFamily?e.fontFamily:"微软雅黑",textdemo:e.textdemo?e.textdemo:"TextRect",isElasticSize:e.isElasticSize?e.isElasticSize:0,minScaleLimit:.2,flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,lockScalingFlip:!0,originX:"left",originY:"top",component:"component",isType:"TextRect",isDiff:"static",name:e.name?e.name:"TextRect",hasRotatingPoint:e.hasRotatingPoint,textAlign:e.textAlign?e.textAlign:"left",maxLines:e.maxLines?e.maxLines:10,minFontSize:e.minFontSize?e.minFontSize:12,omitStyle:e.omitStyle?e.omitStyle:0,omitStyleText:e.omitStyleText?e.omitStyleText:"无",newline:e.newline?e.newline:"",verticalSpace:e.verticalSpace?e.verticalSpace:0,visible:e.visible,eyeshow:e.eyeshow,screenIndex:e.screenIndex},E={id:e.id,zIndex:e.zIndex+.5?e.zIndex+.5:e.id+.5,copyId:e.copyId,type:e.type,angle:e.angle,left:e.left,top:e.top,xLeft:e.xLeft?e.xLeft:0,xRight:e.xRight?e.xRight:0,yTop:e.yTop?e.yTop:0,yBot:e.yBot?e.yBot:0,width:e.width,height:e.height,fill:e.fontColor?e.fontColor:"#000000",fontSize:e.fontSize?e.fontSize:14,fontColor:e.fontColor?e.fontColor:"#000000",fontFamily:e.fontFamily?e.fontFamily:"微软雅黑",textdemo:e.textdemo?e.textdemo:"TextRect",textAlign:e.textAlign?e.textAlign:"left",originX:"left",originY:"top",component:"component",isType:"TextRect-text",isDiff:"static",name:e.name?e.name:"TextRect",fontWeight:e.fontWeight?e.fontWeight:"normal",linethrough:!!e.linethrough&&e.linethrough,underline:!!e.underline&&e.underline,fontStyle:e.fontStyle?e.fontStyle:"normal",splitByGrapheme:!0,lockScalingFlip:!0,minScaleLimit:.2,hasRotatingPoint:e.hasRotatingPoint,isElasticSize:e.isElasticSize?e.isElasticSize:0,maxLines:e.maxLines?e.maxLines:10,minFontSize:e.minFontSize?e.minFontSize:12,omitStyle:e.omitStyle?e.omitStyle:0,omitStyleText:e.omitStyleText?e.omitStyleText:"无",newline:e.newline?e.newline:"",verticalSpace:e.verticalSpace?e.verticalSpace:0,visible:e.visible,eyeshow:e.eyeshow,screenIndex:e.screenIndex},O.textRectData=E,o=new fabric.RectWithText(O,E,e.textdemo),o.setCoords(),console.log("999999999999999999999999",o),n.abrupt("break",145);case 135:return _={left:500,top:500,width:300,height:130,row:3,col:3,background:"#ffff00",borderWidth:0,borderColor:"#000000",borderDashArray:[0,0],lineRowWidth:1,lineRowColor:"#666666",lineRowDashArray:[0,0],lineColWidth:1,lineColColor:"#666666",lineColDashArray:[0,0]},L={style:{height:40,fontType:"宋体",fontSize:18,fontColor:"#000000",bgColor:"#ffffff",lineHeight:40},data:[{width:200,name:"表头名称1",fileType:0,fileCode:"itemTitle"},{width:50,name:"表头名称2",fileType:0,fileCode:"itemTitle"},{width:50,name:"表头名称3",fileType:0,fileCode:"itemTitle"}]},X={style:{fontType:"宋体",fontSize:16,fontColor:"#ffffff",bgColor:"#000000",lineHeight:20},data:[]},o=new fabric.tableView(A,_,L,X),n.abrupt("break",145);case 140:return Y={tableinfo:{left:500,top:300,row:3,col:3,width:184,height:134,titleLineHeight:52,bodyLineHeight:40,times:5,animate:0,borderWidth:1,borderColor:"#ffff00",borderType:0,bgColors:["#A4CFFC","#AACF98"]},tableList:[{type:0,col:1,width:60,height:50,fontType:"微软雅黑",fontSize:16,fontColor:"#000000",value:"中国",bgcolor:"#EEEEEE",position:5,field:"itemTitle",fieldType:0},{type:0,col:2,width:60,height:50,fontType:"微软雅黑",fontSize:16,fontColor:"#000000",value:"标题",bgcolor:"#EEEEEE",position:5,field:"itemTitle",fieldType:0},{type:0,col:3,width:60,height:50,fontType:"微软雅黑",fontSize:16,fontColor:"#000000",value:"加油啊",bgcolor:"#EEEEEE",position:5,field:"itemTitle",fieldType:0},{type:1,col:1,width:60,height:40,fontType:"",fontSize:14,fontColor:"#000000",value:"A列值",bgcolor:"#EEEEEE",position:5,field:"",fieldType:0},{type:1,col:2,width:60,height:40,fontType:"",fontSize:14,fontColor:"#000000",value:"B列值",bgcolor:"#EEEEEE",position:5,field:"",fieldType:0},{type:1,col:3,width:60,height:40,fontType:"",fontSize:12,fontColor:"#ff0000",value:"C列值",bgcolor:"#EEEEEE",position:9,field:"",fieldType:0}]},o=new fabric.tableList(A,Y),setTimeout(function(){l.setActiveObject(o.table.group),o.table.group.setCoords(),l.canvas.add(o),l.setTop()},100),n.abrupt("break",145);case 144:console.log("default");case 145:"tableList"===t?(i.canvas.renderAll(),a(o)):(o.setCoords(),i.setActiveObject(o),i.canvas.add(o),i.setTop(),i.canvas.renderAll(),a(o));case 146:case"end":return n.stop()}},n,i)}));return function(t,e){return n.apply(this,arguments)}}()));case 4:case"end":return n.stop()}},n,i)}))()}),r()(n,"createOneRect",function(t){return new h.a(function(e,i){var n=y()({},t,{isType:"Rect",name:t.name?t.name:"Rect",rx:0,ry:0}),o=new fabric.Rect(y()({},n));o.on("scaled",function(t){t.target.set("width",parseInt(t.target.width*t.target.scaleX)),t.target.set("height",parseInt(t.target.height*t.target.scaleY)),t.target.set("scaleX",1),t.target.set("scaleY",1)}),e(o)})}),r()(n,"createoneImage",function(t){this.canvas}),r()(n,"createURLImage",function(t){this.canvas;return new h.a(function(e,i){t.src=t.src?t.src:"./static/images/img.svg";var n=new Image;n.crossOrigin="anonymous",n.src=t.src,n.onload=function(){fabric.Image.fromURL(t.src,function(i){i.crossOrigin="Anonymous",t.crossOrigin="Anonymous",i.set({id:t.id?t.id:"image",copyId:t.copyId,type:t.type?t.type:0,isType:"Image",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",scaleX:t.width/i.width,scaleY:t.height/i.height,width:i.width,height:i.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:t.visible,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),e(i)})},n.onerror=function(){t.src="./static/images/img.svg",fabric.Image.fromURL(t.src,function(i){i.set({id:t.id?t.id:"image",type:t.type?t.type:0,isType:"Image",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,height:t.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:t.visible,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),e(i)})}})}),r()(n,"createIcon",function(t){var e=this,i=this.canvas;return new h.a(function(n,o){t.src=t.src?t.src:"./static/images/img.svg";var r=new Image;r.crossOrigin="anonymous",r.src=t.src,r.onload=function(){fabric.Image.fromURL(t.src,function(o){o.crossOrigin="Anonymous",t.crossOrigin="Anonymous",o.set({id:t.id?t.id:"image",copyId:t.copyId,zIndex:t.zIndex?t.zIndex:t.id,type:t.type?t.type:0,isType:"Icon",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",scaleX:t.width/o.width,scaleY:t.height/o.height,width:o.width,height:o.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),i.add(o),o.setCoords(),e.setActiveObject(o),i.renderAll.bind(i),e.setTop(),n(o)})},r.onerror=function(){t.src="./static/images/img.svg",fabric.Image.fromURL(t.src,function(o){o.set({id:t.id?t.id:"image",copyId:t.copyId,zIndex:t.zIndex?t.zIndex:t.id,type:t.type?t.type:0,isType:"Icon",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,height:t.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),i.add(o),e.activecanvaobjs.push(o),e.activeobj=o,t&&t.registeObjectEvent&&k.a.registeObjectEvent(e,o),o.setCoords(),e.setActiveObject(o),i.renderAll.bind(i),e.setTop(),n(o)})}})}),r()(n,"createDuan",function(t){var e=this,i=this.canvas;return new h.a(function(n,o){t.src=t.src?t.src:"./static/images/img.svg";var r=new Image;r.crossOrigin="anonymous",r.src=t.src,r.onload=function(){fabric.Image.fromURL(t.src,function(o){o.crossOrigin="Anonymous",t.crossOrigin="Anonymous",o.set({id:t.id?t.id:"image",copyId:t.copyId,zIndex:t.zIndex?t.zIndex:t.id,isType:"duan",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,lockMovementX:!0,lockMovementY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"duanImage",scaleX:t.width/o.width,scaleY:t.height/o.height,width:o.width,height:o.height,selectable:!1,visible:t.visible,hasRotatingPoint:!1,hasControls:!1}),i.add(o),o.setCoords(),e.setActiveObject(o),i.renderAll.bind(i),e.setTop(),n(o)})},r.onerror=function(){t.src="./static/images/img.svg",fabric.Image.fromURL(t.src,function(o){o.set({id:t.id?t.id:"image",copyId:t.copyId,zIndex:t.zIndex?t.zIndex:t.id,type:t.type?t.type:0,isType:"duan",component:"component",isDiff:"static",padding:0,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,lockMovementX:!0,lockMovementY:!0,left:t.left,top:t.top,angle:t.angle?t.angle:0,name:t.name?t.name:"duanImage",scaleX:t.scaleX,scaleY:t.scaleY,width:t.width,height:t.height,stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1,visible:!1!==t.visible||t.visible,hasControls:!1,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint}),i.add(o),e.activecanvaobjs.push(o),e.activeobj=o,t&&t.registeObjectEvent&&k.a.registeObjectEvent(e,o),o.setCoords(),e.setActiveObject(o),i.renderAll.bind(i),e.setTop(),n(o)})}})}),r()(n,"changeURL",function(t,e){var i=this;this.getObjectsNew().forEach(function(n){if(n.id===t&&"duan"===n.isType){var o=new Image;o.src=e,o.onload=function(){n._element.src=e,i.setTop()}}})}),r()(n,"createQrcode",function(t){var e=this,i=this.canvas;return new h.a(function(n,o){var r=void 0,a=jrQrcode.getQrBase64(t.imgText,{padding:t.margin?t.margin:2,width:t.width?t.width:80,height:t.height?t.height:80,correctLevel:QRErrorCorrectLevel.H,reverse:!1,background:t.background?t.background:"#ffffff",foreground:t.lineColor?t.lineColor:"#000000"}),s=document.createElement("img");s.src=a,s.id=(new Date).getTime(),s.onload=function(){r=new fabric.Image(s,{left:t.left,top:t.top,id:t.id,copyId:t.copyId,zIndex:t.zIndex?t.zIndex:t.id,type:t.type?t.type:"0",color:t.lineColor,name:t.name?t.name:"Qrcode",angle:t.angle,component:"component",isType:"Qrcode",isDiff:"static",fill:t.fill?t.fill:"#000000",flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,originX:"left",originY:"top",lockUniScaling:!0,imgText:t.imgText,content:t.imgText,lineColor:t.lineColor,hasRotatingPoint:!1,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),i.add(r),e.setActiveObject(r),e.setTop(),i.renderAll(),n(r)},s.onerror=function(){o(new Error("qrcode error load!"))}})}),r()(n,"createBarcode",function(t){var e=this;return g()(d.a.mark(function i(){var n,o;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=e,o=e.canvas,i.abrupt("return",new h.a(function(e,i){var r=void 0;t.imgText=t.imgText?t.imgText:"barcode123456789",t.barlineWidth=t.barlineWidth?t.barlineWidth:1;var a=document.getElementById("barbox"),s=document.createElement("img"),A="barcode"+t.id;s.id="barcode"+t.id,a.childNodes.forEach(function(e){e.getAttribute("id")===A&&document.getElementById("barcode"+t.id).remove()}),a.appendChild(s),JsBarcode("#barcode"+t.id,t.imgText,{id:t.id,format:t.format?t.format:"CODE128",lineColor:t.color?t.color:"#000000",margin:t.margin?t.margin:0,width:t.barlineWidth,height:t.height?t.height:20,displayValue:!1}),t.originXY=t.originXY?t.originXY:["left","top"],document.getElementById(A).onload=function(){var i=new fabric.Image(document.getElementById(A),{id:t.id,copyId:t.copyId,zIndex:t.zIndex,width:document.getElementById(A).width,color:t.color?t.color:"#000000",height:t.height,name:t.name?t.name:"barcodeimg",angle:t.angle,component:"component",isType:"barcodeimg",isDiff:"static",flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,scaleX:1,scaleY:1,lockScalingX:!0,lockScalingY:!0,lockRotation:!0,imgText:t.imgText,lineColor:t.lineColor,selectable:!1,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),a=new fabric.Rect({width:t.width,height:t.height,fill:"#f1edea",originX:"left",originY:"top",left:0,top:0,id:t.id,zIndex:t.zIndex,copyId:t.copyId,name:t.name?t.name:"barcodebg",angle:t.angle,component:"component",isType:"barcodebg",isDiff:"static",selectable:!1,hasRotatingPoint:!1!==t.hasRotatingPoint||t.hasRotatingPoint,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex});r=new fabric.Group([a,i],{originX:"left",originY:"top",left:t.left,top:t.top,originXY:[t.originXY[0],"top"],id:t.id,copyId:t.copyId,zIndex:t.zIndex,type:t.type?t.type:"Barcode",name:t.name?t.name:"Barcode",angle:t.angle,component:"component",isType:"Barcode",isDiff:"static",width:t.width,height:t.height,barlineWidth:t.barlineWidth,imgText:t.imgText,lineColor:t.lineColor,fill:t.lineColor,color:t.color?t.color:"#000000",format:t.format?t.format:"CODE128",lockRotation:!0,flipX:!1,flipY:!1,lockSkewingX:!0,lockSkewingY:!0,hasRotatingPoint:!1,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),r.on("scaling",function(t){t.target.item(1).set({left:-8e3,top:0}),o.requestRenderAll(),o.renderAll()}),o.add(r);var s=0,c=t.width,l=document.getElementById(A).width;"left"===t.originXY[0]?s=c<l?Math.abs(l-c)/2:-Math.abs(l-c)/2:"center"===t.originXY[0]?s=0:"right"===t.originXY[0]&&(s=c<l?-Math.abs(l-c)/2:Math.abs(l-c)/2),r.item(0).set({left:"-50%"}),r.item(1).set({top:0,left:s}),n.setActiveObject(r),n.setTop(),o.renderAll(),n.changeBarcodeImage(r),e(r)},document.getElementById(A).onerror=function(){i(new Error("barcode error load!"))}}));case 3:case"end":return i.stop()}},i,e)}))()}),r()(n,"changeQrcodeImage",function(t){var e=this;return g()(d.a.mark(function i(){var n,o,r;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("Qrcode"===t.isType){i.next=2;break}return i.abrupt("return");case 2:return n=JSON.parse(v()(t)),e.removeObj(t),o=n.left+e.xLeft,r=n.top+e.yTop,i.next=8,e.createElement(t.isType,y()({},t,{imgText:t.imgText,lineColor:t.lineColor,left:o,top:r,width:parseInt(t.width*t.scaleX),height:parseInt(t.height*t.scaleY),scaleX:1,scaleY:1,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex}));case 8:case"end":return i.stop()}},i,e)}))()}),r()(n,"changeTextRectBoxContent",function(t){var e=this;return g()(d.a.mark(function i(){return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t.set({width:t.width*t.scaleX,height:t.height*t.scaleY,scaleX:1,scaleY:1}),t.item(0).set({width:t.width*t.scaleX,height:t.height*t.scaleY,scaleX:1,scaleY:1}),t.item(1).set({width:t.width*t.scaleX,height:t.height*t.scaleY,scaleX:1,scaleY:1}),e.canvas.requestRenderAll(),e.canvas.renderAll();case 5:case"end":return i.stop()}},i,e)}))()}),r()(n,"changeBarcodeImage",function(t){var e=this;return g()(d.a.mark(function i(){var n,o,r,a,s,A;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.barlineWidth,n=parseInt(t.barlineWidth*(t.width*t.scaleX/(t.item(1).width*t.item(1).scaleX))),0===n&&(n=1),t.set({width:t.width*t.scaleX,scaleX:1,barlineWidth:n}),t.item(0).set({width:t.width*t.scaleX,scaleX:1}),o={id:t.id?t.id:0,format:t.item(1).format?t.item(1).format:"CODE128",lineColor:t.color?t.color:"#000000",margin:0,lineWidth:n,height:t.item(1).height?t.item(1).height:20,visible:t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex},i.next=8,e.drawbarcode(t.imgText,o);case 8:r=i.sent,a=0,s=t.width,A=document.getElementById("barcode"+o.id).width,"left"===t.originXY[0]?a=s<A?Math.abs(A-s)/2:-Math.abs(A-s)/2:"center"===t.originXY[0]?a=0:"right"===t.originXY[0]&&(a=s<A?-Math.abs(A-s)/2:Math.abs(A-s)/2),t.item(1)._element.src=r,t.item(1).set({left:a,width:t.item(1)._element.width,scaleX:1}),t.barlineWidth*(t.width*t.scaleX/(t.item(1).width*t.item(1).scaleX))<1&&(console.log("小于条码1倍"),t.item(0).set({width:t.item(1)._element.width,scaleX:1}),t.set({width:t.item(1)._element.width,scaleX:1}),t.item(1).set({left:0})),t.setCoords(),e.canvas.requestRenderAll(),e.canvas.renderAll();case 19:case"end":return i.stop()}},i,e)}))()}),r()(n,"createEqualImageImage",function(t){var e=this,i=this.canvas;return new h.a(function(n,o){t.url=t.url?t.url:"./static/images/img.svg";var r=document.createElement("img");r.crossOrigin="Anonymous",r.src=t.url,r.onload=function(){var o=0,a=0;r.width/r.height>t.width/t.height?(o=t.width,a=t.width/(r.width/r.height)):(a=t.height,o=t.height*(r.width/r.height));var s=new fabric.Image(r,{id:t.id?t.id:"image",isType:"equalImage-img",padding:0,flipX:!1,flipY:!1,stopContextMenu:!0,minScaleLimit:1e-4,lockSkewingX:!0,lockSkewingY:!0,originX:"center",originY:"center",scaleX:o/r.width,scaleY:a/r.height,angle:t.angle?t.angle:0,name:t.name?t.name:"Image",stroke:t.stroke?t.stroke:"",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,eyeshow:t.eyeshow,screenIndex:t.screenIndex}),A=new fabric.Rect({isType:"equalImage-bg",padding:0,originX:"center",originY:"center",width:t.width?t.width:100,height:t.height?t.height:100,fill:t.background?t.background:"#eeeeee"}),c=new fabric.Group([A,s],{isType:"equalImage",left:t.left,top:t.top,width:t.width,height:t.height,originX:"left",originY:"top",padding:0,id:t.id,hasRotatingPoint:!1,lockScalingFlip:!0,minScaleLimit:.2,eyeshow:t.eyeshow,screenIndex:t.screenIndex});c.on("scaling",function(t){var e=0,n=0;r.width/r.height>c.width*c.scaleX/(c.height*c.scaleY)?(e=c.width*c.scaleX,n=c.width*c.scaleX/(r.width/r.height),c.item(1).set("scaleX",e/r.width/c.scaleX),c.item(1).set("scaleY",n/r.height/c.scaleY)):(n=c.height*c.scaleY,e=c.height*c.scaleY*(r.width/r.height),c.item(1).set("scaleX",e/r.width/c.scaleX),c.item(1).set("scaleY",n/r.height/c.scaleY)),i.requestRenderAll(),i.renderAll()}),c.setControlsVisibility({bl:!0,br:!0,mb:!0,ml:!0,mr:!0,mt:!0,mtr:!1,tl:!0,tr:!0}),i.add(c),t&&t.registeObjectEvent&&k.a.registeObjectEvent(e,r),c.setCoords(),e.setActiveObject(c),i.renderAll.bind(i),n(c)}})}),r()(n,"renderCanvas",function(){this.canvas.requestRenderAll(),this.canvas.renderAll(),this.setTop()}),r()(n,"todata",function(){var t=this;return g()(d.a.mark(function e(){var i,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.discardActive(),i=canvas.toDataURL({format:"jpeg",multiplier:2}),e.next=4,t.cutImg(i,-t.xLeft,-t.yTop,-t.xLeft+t.width,-t.yTop+t.height);case 4:n=e.sent,t.$emit("previewshow",n);case 6:case"end":return e.stop()}},e,t)}))()}),r()(n,"cutImg",function(t,e,i,n,o){return e*=this.canvasZoom,i*=this.canvasZoom,n*=this.canvasZoom,o*=this.canvasZoom,new h.a(function(r,a){var s=n-e,A=o-i,c=canvas.getContext("2d"),l=new Image;l.src=t;var h=document.createElement("canvas"),f=h.getContext("2d");l.onload=function(){c.drawImage(l,0,0,canvas.width,canvas.height);var t=c.getImageData(e,i,s,A);h.width=s,h.height=A,f.putImageData(t,0,0,0,0,h.width,h.height);var n=h.toDataURL("image/png");r(n)},l.onerror=function(){a(new Error("Could not load image at "))}})}),r()(n,"getFontImgdata",function(t,e,i,n,o){return new h.a(function(r,a){var A=new fabric.Canvas("fontcanvas",{preserveObjectStacking:!0}),l=new fabric.Text(t,{fill:"#ff0",splitByGrapheme:!0,lockScalingFlip:!0,fontFamily:e,fontSize:i,originX:"left",originY:"top",scaleX:n,scaleY:o});A.setWidth(l.width*n),A.setHeight(l.height*o),A.backgroundColor="#000",l.set({left:0,top:0}),l.setCoords(),A.add(l),A.requestRenderAll(),A.renderAll();for(var h=A.getContext("2d"),f=h.getImageData(0,0,l.width*n,l.height*o).data,d=h.getImageData(0,0,l.width*n,l.height*o).width,u=h.getImageData(0,0,l.width*n,l.height*o).height,g=[],p=[],v=[],m=0;m<2;m++)g[m]=[];for(var b=[],x=0,y=f.length;x<y;x+=4){var w=f[x],T=f[x+1],k=f[x+2];f[x+3];w+" "+T+" "+k=="0 0 0"?b.push(0):b.push(1)}for(var S=[],j=0;j<b.length;j+=d){S[j/d]=[];for(var R=0;R<d;R++)S[j/d][R]=b[j+R],1===b[j+R]&&(v.push(parseInt(j/d)),p.push(R))}var I=A.toDataURL({format:"jpeg",multiplier:1}),C=new s.a(p),O=c()(C),E=O.sort(function(t,e){return t-e}),_=E[E.length-1]-E[0]+1,L=new s.a(v),X=c()(L),Y=X.sort(function(t,e){return t-e}),B=Y[Y.length-1]-Y[0]+1,P={offset:[E[0]-0,d-E[E.length-1]-1,Y[0]-0,u-Y[Y.length-1]-1],fontTruewidth:_,fontTrueheight:B,fontSize:i,width:d,height:u,url:I,lines:S},W=new Image;W.src=I,W.onload=function(){r(P)}})}),r()(n,"createRect",function(t){var e=this;return g()(d.a.mark(function i(){var n;return d.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=T()({width:50,height:30,left:-e.xLeft,top:-e.yTop,padding:0,angle:0,scaleX:1,scaleY:1},t),n=new fabric.Rect(y()({},t,{left:-e.xLeft+t.left,top:-e.yTop+t.top,id:t.id,name:t.name?t.name:"Rect",component:"component",isType:"Rect",isDiff:"static",selectable:!1!==t.selectable||t.selectable,visible:!1!==t.visible||t.visible,fill:t.fill?t.fill:"#000",fillColor:t.fillColor?t.fillColor:"#000",backgroundColor:t.backgroundColor?t.backgroundColor:"#000000",stroke:t.stroke?t.stroke:"rgba(0,0,0,0)",strokeWidth:t.strokeWidth?t.strokeWidth:0,strokeDashArray:t.strokeDashArray?t.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",stopContextMenu:!0})),n.setCoords(),e.canvas.add(n),e.setTop(),e.canvas.renderAll(),i.abrupt("return",n);case 7:case"end":return i.stop()}},i,e)}))()}),r()(n,"createText",function(t,e){e=T()({width:50,height:30,left:-this.xLeft,top:-this.yTop,padding:0,angle:0,scaleX:1,scaleY:1},e);var i=new fabric.Textbox(t,y()({},e,{splitByGrapheme:!0,width:e.width,height:e.height,left:e.left,top:e.top,id:e.id,name:e.name?e.name:"Text",component:"component",isType:"Text",isDiff:"static",selectable:!1!==e.selectable||e.selectable,visible:!1!==e.visible||e.visible,fill:e.fill?e.fill:"#000",fillColor:e.fillColor?e.fillColor:"#000",backgroundColor:e.backgroundColor?e.backgroundColor:"rgba(0,0,0,0)",stroke:e.stroke?e.stroke:"rgba(0,0,0,0)",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",lockSkewingX:!0,lockSkewingY:!0,stopContextMenu:!0}));return i.setCoords(),this.canvas.add(i),this.setTop(),this.canvas.renderAll(),i}),r()(n,"createText2",function(t,e){e=T()({width:50,height:30,left:-this.xLeft,top:-this.yTop,padding:0,angle:0,scaleX:1,scaleY:1},e);var i=new fabric.Text(t,y()({},e,{left:-this.xLeft+e.left,top:-this.yTop+e.top,id:e.id,name:e.name?e.name:"Time",component:"component",isType:"Time",isDiff:"static",textAlign:"left",selectable:!1!==e.selectable||e.selectable,visible:!1!==e.visible||e.visible,fill:e.fill?e.fill:"#000",fillColor:e.fillColor?e.fillColor:"#000",backgroundColor:e.backgroundColor?e.backgroundColor:"rgba(0,0,0,0)",stroke:e.stroke?e.stroke:"rgba(0,0,0,0)",strokeWidth:e.strokeWidth?e.strokeWidth:0,strokeDashArray:e.strokeDashArray?e.strokeDashArray:[0,0],minScaleLimit:1e-4,flipX:!1,flipY:!1,originX:"left",originY:"top",lockSkewingX:!0,lockSkewingY:!0,stopContextMenu:!0}));return i.setCoords(),this.canvas.add(i),this.setTop(),this.canvas.renderAll(),i}),r()(n,"returnXY",function(){return{x:this.xLeft,y:this.yTop}}),r()(n,"setCompunentsNoselect",function(){var t=this.getObjects();for(var e in t)"component"===t[e].component&&(t[e].set("selectable",!1),this.canvas.requestRenderAll(),this.canvas.renderAll())}),r()(n,"setCompunentsCanselect",function(){var t=this.getObjects();for(var e in t)"component"===t[e].component&&!1!==t[e].visible&&(t[e].set("selectable",!0),this.canvas.requestRenderAll(),this.canvas.renderAll())}),r()(n,"getObjectsNew",function(){var t=this.getObjects(),e=[];for(var i in t)"component"===t[i].component&&e.push(t[i]);return e}),r()(n,"ClearAllObjects",function(){var t=this.getObjects(),e=[];for(var i in t)"component"===t[i].component&&(e.push(t[i]),this.canvas.remove(t[i]),this.canvas.requestRenderAll(),this.canvas.renderAll());return e}),r()(n,"clipText",function(t){this.setActiveObject(t),this.canvas.requestRenderAll(),this.canvas.renderAll()}),r()(n,"setCursor",function(t){1==t?(fabric.Canvas.prototype.defaultCursor="url('data:image/ico;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////EPPz80y5ubmxx8fHif///x7///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/gTz8/NgdXV16Wpqav9zc3P5srKyqff39x4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8E9fX1RIiIiN1zc3P/YWFh/7S0tP9tbW3/w8PDnf///wwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////BObm5kyPj4/PkZGR//Hx8f/Jycn/ampq/5GRkf+Hh4fh////NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wT///9AiYmJ2YuLi//8/Pz///////////+7u7v/Hh4e/8HBwbX///8OAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8E5OTkTIuLi9OVlZX/9PT0///////+/v7/5OTk/3h4ePusrKzJ+Pj4SgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////BP///0CLi4vTiIiI//n5+f///////////+zs7P9zc3P/p6entf///yr+/v4CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///wTm5uZMiYmJ2ZWVlf/5+fn//v7+//7+/v/h4eH/dXV1+6+vr6v4+Pgk////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD+/v4E9fX1RI+Pj8+Li4v/9PT0///////+/v7/8PDw/3Jycv2kpKS3////Kv///wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////BO7u7kaIiIjdkZGR//z8/P///////////+Hh4f9ycnL9s7Ozqf///yYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/gLq6upKkJCQzY+Pj//y8vL///////7+/v/s7Oz/dXV1+6SkpLf///8m////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8E/v7+QIiIiN2NjY3//Pz8////////////5OTk/3Nzc/+vr6+r////KgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////BOTk5EyNjY3Pk5OT//Pz8////////v7+/+bm5v94eHj7p6entfj4+CT///8CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///84ioqK1YiIiP/8/Pz////////////p6en/dHR0/6mpqbH///8q////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/hbIyMiLtbW10eDg4FYAAAAA/f39IqSkpNVUVFT/tra2//7+/v/+/v7/4uLi/3d3d/usrKyv9fX1Jv7+/gIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3d3dXnZ2dvOAgID/q6urzf///xT8/Pw8cHBw/7CwsP92dnb/sLCw/+3t7f9xcXH/pqamt////yr+/v4CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW1tZ4b29v/7Gxsf+hoaHn////JMPDw614eHj/9vb2//X19f9tbW3/MjIy/bm5ubf///8kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANbW1nhvb2//sbGx/6Ghoef+/v5UkJCQ57Ozs//IyMj/aGho/19fX/2mpqbX////Tv///wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1tbWeG9vb/+xsbH/oaGh5/7+/l6IiIjrgoKC/3t7e/PY2Nit+vr6ev///xgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW1tZ4b29v/7Gxsf+hoaHn////JtPT02LKysqV6OjoPv///w7///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/gL///8a////Gv///xr///8a////GtbW1nhvb2//sbGx/6Ghoef///8s////Gv///xr///8a////Gv7+/hAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8YyMjIiaSkpOekpKTnpKSk56SkpOekpKTno6Oj72lpaf+0tLT/ioqK/aSkpOekpKTnpKSk56SkpOekpKTnra2tzeDg4FYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP///0xpaWnzra2t/62trf+tra3/ra2t/62trf+tra3/vLy8/+bm5v+ysrL/ra2t/62trf+tra3/ra2t/62trf9+fn7/tbW10QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/v7+LJeXl8VsbGz/bGxs/2xsbP9sbGz/bGxs/2tra/9nZ2f/vr6+/2ZmZv9sbGz/bGxs/2xsbP9sbGz/bGxs/3R0dPPIyMiLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G9/f3LNra2nLa2tpy2tractra2nLa2tpy0NDQpW9vb/+xsbH/oqKi79vb23ba2tpy2tractra2nLa2tpy4eHhWv7+/hYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW1tZ4b29v/7Gxsf+hoaHn////IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANbW1nhvb2//sbGx/6Ghoef///8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1tbWeG9vb/+xsbH/oaGh5////yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADW1tZ4b29v/7Gxsf+hoaHn////IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANbW1nhvb2//sbGx/6Ghoef///8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9vb2LJeXl8VpaWnzx8fHif///wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8G/v7+LP///0z///8YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////5////8P///+B////Af///gH///wD///4B///8A///+Af///AP///gH///wD///4B///8A///OAf//xgP//8QH///ED///xD///8b////H///gAB//4AAP/+AAD///h////8f////H////x////8f////H////x////////8=') ,auto",this.cursor=1):2==t?(fabric.Canvas.prototype.defaultCursor="grab",this.cursor=2):3==t?(fabric.Canvas.prototype.defaultCursor="grabbing",this.cursor=3):4==t?(fabric.Canvas.prototype.defaultCursor="zoom-in",this.cursor=4):5==t?(fabric.Canvas.prototype.defaultCursor="zoom-out",this.cursor=5):(fabric.Canvas.prototype.defaultCursor="default",this.cursor=0)}),r()(n,"getZoom",function(){return this.canvas.getZoom()}),r()(n,"judeisTableHeadorBody",function(t){var e=t.target._objects,i=0,n=0;return e.forEach(function(e){e.left+t.target.width/2<t.pointer.x-t.target.left&&t.pointer.x-t.target.left<e.left+t.target.width/2+e.width&&(i=e.no),e.top+t.target.height/2<t.pointer.y-t.target.top&&t.pointer.y-t.target.top<e.top+t.target.height/2+e.height&&(n=e.nrow)}),{row:n,col:i}}),r()(n,"setTableHeadData",function(t,e,i,n){t.tableHead.data[i-1].name=n,t._objects.forEach(function(t){"table-theadtext"===t.isType&&t.nrow===e&&t.no===i&&t.set("text",n)}),this.canvas.requestRenderAll(),this.canvas.renderAll()}),r()(n,"setTableHeadStyle",function(t,e){var i=this;t.tableHead.style=y()({},t.tableHead.style,e),t._objects.forEach(function(t){"table-theadbg"===t.isType&&t.set("fill",e.bgColor),"table-theadtext"===t.isType&&(t.set("fontSize",e.fontSize),t.set("fill",e.fontColor),t.set("fontType",e.fontType),t.set("lineHeight",e.lineHeight)),i.canvas.requestRenderAll(),i.canvas.renderAll()})}),r()(n,"setTableBodyStyle",function(t,e){var i=this;t.tableBody.style=y()({},t.tableBody.style,e),t._objects.forEach(function(t){"table-tbodybg"===t.isType&&t.set("fill",e.bgColor),"table-tbodytext"===t.isType&&(t.set("fontSize",e.fontSize),t.set("fill",e.fontColor),t.set("fontType",e.fontType),t.set("lineHeight",e.lineHeight)),i.canvas.requestRenderAll(),i.canvas.renderAll()})}),r()(n,"setTableHeadHeight",function(t,e){if(e){var i=this.canvas,n=t.item(0).tableStyle,o=t.item(0).tableHead,r=t.item(0).tableBody;t.tableHead.style.height=e,o.style.height=e,i.remove(t),new fabric.tableView(i,n,o,r),i.requestRenderAll(),i.renderAll()}}),r()(n,"setTableHeadHeight",function(t,e,i){if(i&&i){var n=this.canvas,o=t.item(0).tableStyle,r=t.item(0).tableHead,a=t.item(0).tableBody;t.tableHead.style.height=height,r.style.height=height,n.remove(t),new fabric.tableView(n,o,r,a),n.requestRenderAll(),n.renderAll()}}),r()(n,"setNewTable",function(t,e){e||(e=t.item(0).tableStyle);var i=this.canvas;i.remove(t);var n=new fabric.tableList(this.canvas,e),o=this;setTimeout(function(){o.setActiveObject(n.table.group),n.table.group.setCoords(),o.canvas.add(n),o.setTop()},1),i.requestRenderAll(),i.renderAll()}),r()(n,"setNewTextRect",function(t,e){if(e){var i=this.canvas;i.remove(t);var n=new fabric.RectWithText(e.rectOptions,e.textOptions,e.textdemo),o=this;setTimeout(function(){o.setActiveObject(n),n.setCoords(),o.canvas.add(n),o.setTop()},1),i.requestRenderAll(),i.renderAll()}}),r()(n,"textStyleFormat",function(t,e){if(!t.maxLines)return t.text;if(!t.omitStyleText)return t.text;var i=t.text,n=/[\n\t\r]/,o=i.split(n),r=i;if(""!==t.newline&&t.newline&&""!==t.newline){var a=t.newline;o.forEach(function(t,e){if(-1!==t.indexOf(a)){var i=t.split(a);o.splice(e,1),o.splice.apply(o,[e,0].concat(b()(i)))}}),r="";for(var s=0;s<o.length;s++)s===o.length-1?r+=o[s]:r=r+o[s]+"\n"}for(var A=t._splitTextIntoLines(r).lines,c=0;c<A.length;c++)""===A[c]&&A.splice(c,1);if(t.maxLines&&A.length>t.maxLines){r="";for(var s=0;s<t.maxLines;s++)s===t.maxLines-1?r+=A[s]:r=r+A[s]+"\n";"无"!==t.omitStyleText?(r=r.substring(0,r.length-1)+t.omitStyleText,t.selectionEnd=t.selectionStart=r.length):t.selectionEnd=t.selectionStart=r.length}return r}),r()(n,"newtextStyleFormat",function(t,e){if(!t.maxLines)return t.text;if(!t.omitStyleText)return t.text;var i=e,n=/[\n\t\r]/,o=i.split(n),r=i;if(""!==t.newline&&t.newline&&""!==t.newline){var a=t.newline;o.forEach(function(t,e){if(-1!==t.indexOf(a)){var i=t.split(a);o.splice(e,1),o.splice.apply(o,[e,0].concat(b()(i)))}}),r="";for(var s=0;s<o.length;s++)s===o.length-1?r+=o[s]:r=r+o[s]+"\n"}for(var A=t._splitTextIntoLines(r).lines,c=0;c<A.length;c++)""===A[c]&&A.splice(c,1);if(t.maxLines&&A.length>t.maxLines){r="";for(var s=0;s<t.maxLines;s++)s===t.maxLines-1?r+=A[s]:r=r+A[s]+"\n";"无"!==t.omitStyleText?(r=r.substring(0,r.length-1)+t.omitStyleText,t.selectionEnd=t.selectionStart=r.length):t.selectionEnd=t.selectionStart=r.length}return r}),r()(n,"newstyles",function(t,e){for(var i=t.prefix.length,n=t.postfix.length,o=(t.prefix+t.content).length,r={0:{}},a=0;a<i;a++)r[0][a]={textBackgroundColor:"#ff0"};for(var s=0;s<n;s++)r[0][o+s]={textBackgroundColor:"#ff0"};if(""!==t.lineBreak&&e.length===(t.prefix+t.content+t.postfix).length&&e.indexOf(t.postfix)>-1){var A=e.split(/[\n\t\r]/),c=t.postfix.length,l=A[A.length-1].length-t.postfix.length;r[A.length-1]={};for(var h=0;h<c;h++)r[A.length-1][l+h]={textBackgroundColor:"#ff0"}}return r}),r()(n,"textIsUsually",function(t,e){var i=this;return g()(d.a.mark(function n(){var o;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:0===t.isElasticSize&&(o=i.getObjectsNew(),o.forEach(function(n){if(n.id===t.id&&"TextRect"===n.isType&&(n.textdemo=e,n.content=e),n.id===t.id&&"TextRect-text"===n.isType){var o=i.textStyleFormat(n,e);n.set("text",o),n.set("textdemo",e),n.set("height",t.height-n.yTop-n.yBot),i.renderCanvas()}}));case 1:case"end":return n.stop()}},n,i)}))()}),r()(n,"changeTextType",function(t,e){var i=this;return g()(d.a.mark(function e(){var n,o,r,a,s,A;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.textdemo.replace(/[\r\n]/g,""),o={id:JSON.parse(v()(t.id)),angle:JSON.parse(v()(t.angle)),left:JSON.parse(v()(t.left))+i.returnXY().x,top:JSON.parse(v()(t.top))+i.returnXY().y,width:JSON.parse(v()(t.width)),height:JSON.parse(v()(t.height)),fontColor:JSON.parse(v()(t.fontColor)),color:JSON.parse(v()(t.fontColor)),fontFamily:JSON.parse(v()(t.fontFamily)),textAlign:JSON.parse(v()(t.textAlign?t.textAlign:"left")),fontStyle:JSON.parse(v()(t.fontStyle?t.fontStyle:"normal")),maxLines:JSON.parse(v()(t.maxLines?t.maxLines:3)),omitStyleText:JSON.parse(v()(t.omitStyleText?t.omitStyleText:"无")),omitStyle:JSON.parse(v()(t.omitStyle?t.omitStyle:0)),newline:JSON.parse(v()(t.newline?t.newline:"")),minFontSize:JSON.parse(v()(t.minFontSize?t.minFontSize:12)),isElasticSize:JSON.parse(v()(t.isElasticSize?t.isElasticSize:0)),fontSize:JSON.parse(v()(t.fontSize?t.fontSize:12)),textdemo:JSON.parse(v()(n||"TEXT")),verticalSpace:t.verticalSpace?t.verticalSpace:0,scaleX:1,scaleY:1,visible:JSON.parse(v()(t.visible)),zIndex:JSON.parse(v()(t.zIndex))},r=i.canvas,r.remove(t),a=i.getObjectsNew(),a.forEach(function(e){e.id===t.id&&"TextRect-text"===e.isType&&r.remove(e)}),e.next=8,i.createElement("TextRect",y()({},o));case 8:s=e.sent,A=i,setTimeout(function(){A.setTop(),r.requestRenderAll(),r.renderAll()},10);case 11:case"end":return e.stop()}},e,i)}))()}),r()(n,"getoriginx",function(){var t=this;return g()(d.a.mark(function e(){var i,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.getObjects(),n=void 0,i.forEach(function(t){"sBg"===t.type&&(n=t.oCoords.tl)}),e.abrupt("return",n);case 4:case"end":return e.stop()}},e,t)}))()}),r()(n,"changeTextRender",function(t,e,i){var n=this;return g()(d.a.mark(function o(){return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log(t,e,i),o.abrupt("return",new h.a(function(){var o=g()(d.a.mark(function o(r,a){var s,A,c,l,h,f;return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=e,2===t.isElasticSize&&(s=e.replace(/[\r\n]/g,"")),o.next=4,n.getoriginx();case 4:return A=o.sent,console.log(A),c={id:JSON.parse(v()(t.id)),angle:JSON.parse(v()(t.angle)),left:JSON.parse(v()(t.left)),top:JSON.parse(v()(t.top)),width:JSON.parse(v()(t.width)),height:JSON.parse(v()(t.height)),fontColor:JSON.parse(v()(t.fontColor)),color:JSON.parse(v()(t.fontColor)),fontFamily:JSON.parse(v()(t.fontFamily)),fontType:JSON.parse(v()(t.fontType)),textAlign:JSON.parse(v()(t.textAlign?t.textAlign:"left")),fontWeight:JSON.parse(v()(t.fontWeight?t.fontWeight:"normal")),linethrough:JSON.parse(v()(!!t.linethrough&&t.linethrough)),underline:JSON.parse(v()(!!t.underline&&t.underline)),fontStyle:JSON.parse(v()(t.fontStyle?t.fontStyle:"normal")),maxLines:JSON.parse(v()(t.maxLines?t.maxLines:3)),omitStyleText:JSON.parse(v()(t.omitStyleText?t.omitStyleText:"无")),omitStyle:JSON.parse(v()(t.omitStyle?t.omitStyle:0)),newline:JSON.parse(v()(t.lineBreak?t.lineBreak:"")),minFontSize:JSON.parse(v()(t.minFontSize?t.minFontSize:12)),isElasticSize:JSON.parse(v()(t.isElasticSize?t.isElasticSize:0)),fontSize:JSON.parse(v()(t.fontSize?t.fontSize:12)),textdemo:JSON.parse(v()(s||"TEXT")),verticalSpace:t.verticalSpace?t.verticalSpace:0,scaleX:1,scaleY:1,visible:JSON.parse(v()(t.visible)),zIndex:JSON.parse(v()(t.zIndex))},console.log("newtextdata:",c),l=n.canvas,l.remove(i),h=n.getObjectsNew(),h.forEach(function(e){e.id===t.id&&l.remove(e)}),o.next=14,n.createElement("TextRect",y()({},c));case 14:f=o.sent,setTimeout(function(){var t=n.getObjects();t.sort(function(t,e){return t.zIndex-e.zIndex});var e=1;t.forEach(function(t,i){"component"===t.component&&(n.moveToshow(t,e),e+=1)}),l.requestRenderAll(),l.renderAll(),r(f)},10);case 16:case"end":return o.stop()}},o,n)}));return function(t,e){return o.apply(this,arguments)}}()));case 2:case"end":return o.stop()}},o,n)}))()}),r()(n,"changeCanvas",function(t){console.log(this.canvas),1===t||!0===t?(fabric.Object.prototype.borderColor="#0062B2",fabric.Object.prototype.cornerColor="#0062B2",fabric.Object.prototype.hasControls=!1,fabric.Object.prototype.hasRotatingPoint=!1):(fabric.Object.prototype.borderColor="#999",fabric.Object.prototype.cornerColor="#999",fabric.Object.prototype.hasControls=!0,fabric.Object.prototype.hasRotatingPoint=!0),this.canvas.getActiveObject().setCoords(),this.canvas.renderTop(),this.canvas.renderAll()}),n)}},function(t,e,i){t.exports={default:i(67),__esModule:!0}},function(t,e){},function(t,e,i){var n=i(9),o=i(76),r=i(41),a=i(29)("IE_PROTO"),s=function(){},A=function(){var t,e=i(20)("iframe"),n=r.length;for(e.style.display="none",i(42).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),A=t.F;n--;)delete A.prototype[r[n]];return A()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=A(),void 0===e?i:o(i,e)}},function(t,e,i){var n=i(77),o=i(41);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,i){var n=i(1),o=i(0),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(26)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(0).document;t.exports=n&&n.documentElement},function(t,e,i){i(81);for(var n=i(0),o=i(8),r=i(13),a=i(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),A=0;A<s.length;A++){var c=s[A],l=n[c],h=l&&l.prototype;h&&!h[a]&&o(h,a,c),r[c]=r.Array}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var n=i(9);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&n(r.call(t)),e}}},function(t,e,i){var n=i(13),o=i(2)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},function(t,e,i){var n=i(33),o=i(2)("iterator"),r=i(13);t.exports=i(1).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){"use strict";var n=i(0),o=i(1),r=i(4),a=i(6),s=i(2)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:n[t];a&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(30)("meta"),o=i(5),r=i(12),a=i(4).f,s=0,A=Object.isExtensible||function(){return!0},c=!i(11)(function(){return A(Object.preventExtensions({}))}),l=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!A(t))return"F";if(!e)return"E";l(t)}return t[n].i},f=function(t,e){if(!r(t,n)){if(!A(t))return!0;if(!e)return!1;l(t)}return t[n].w},d=function(t){return c&&u.NEED&&A(t)&&!r(t,n)&&l(t),t},u=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){t.exports={default:i(97),__esModule:!0}},function(t,e,i){var n=i(2)("iterator"),o=!1;try{var r=[7][n]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],a=r[n]();a.next=function(){return{done:i=!0}},r[n]=function(){return a},t(r)}catch(t){}return i}},function(t,e,i){t.exports={default:i(100),__esModule:!0}},function(t,e,i){var n=i(9),o=i(10),r=i(2)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[r])?e:o(i)}},function(t,e,i){var n,o,r,a=i(7),s=i(102),A=i(42),c=i(20),l=i(0),h=l.process,f=l.setImmediate,d=l.clearImmediate,u=l.MessageChannel,g=l.Dispatch,p=0,v={},m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){m.call(t.data)};f&&d||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++p]=function(){s("function"==typeof t?t:Function(t),e)},n(p),p},d=function(t){delete v[t]},"process"==i(14)(h)?n=function(t){h.nextTick(a(m,t,1))}:g&&g.now?n=function(t){g.now(a(m,t,1))}:u?(o=new u,r=o.port2,o.port1.onmessage=b,n=a(r.postMessage,r,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):n="onreadystatechange"in c("script")?function(t){A.appendChild(c("script")).onreadystatechange=function(){A.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:f,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(9),o=i(5),r=i(34);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var i=r.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){t.exports={default:i(115),__esModule:!0}},function(t,e,i){"use strict";var n=i(127);e.a={name:"contextmenu",components:{Tree:n.a},data:function(){return{floatDirection:"float-statue-1"}},props:{contextMenuData:{type:Object,requred:!1,default:function(){return{menuName:null,axis:{x:null,y:null},menulists:[{fnHandler:"",icoName:"",btnName:""}]}}},transferIndex:{type:Number,default:0}},watch:{"contextMenuData.axis":function(t){var e=t.x,i=t.y,n=window.innerWidth,o=window.innerHeight,r=this,a=r.transferIndex,s="vue-contextmenuName-"+r.contextMenuData.menuName,A=document.getElementsByClassName(s)[a];A.style.display="block";var c=30*this.contextMenuData.menulists.length;A.style.top=(i+c>o?o-c:i)+"px",A.style.left=(e+150>n?n-150:e)+"px",document.addEventListener("mouseup",function(t){0!==t.button&&2!==t.button||(A.style.display="none")},!1),e+300>n&&i+2*c>o&&(this.floatDirection="float-status-4"),e+300<n&&i+2*c>o&&(this.floatDirection="float-status-1"),e+300>n&&i+2*c<o&&(this.floatDirection="float-status-3"),e+300<n&&i+2*c<o&&(this.floatDirection="float-status-2")}},methods:{fnHandler:function(t){this.$emit(t.fnHandler)}}}},function(t,e,i){"use strict";e.a={name:"tree-child-component",props:["itemchildren","float"],methods:{fnHandler:function(t){this.$emit("childhandler",t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(62);i.d(e,"FabricCanvas",function(){return n.a})},function(t,e,i){"use strict";var n=i(63),o={install:function(t){t.component(n.a.name,n.a)}};e.a=o},function(t,e,i){"use strict";function n(t){i(64),i(65)}var o=i(35),r=i(131),a=i(19),s=n,A=a(o.a,r.a,!1,s,"data-v-0a44e214",null);e.a=A.exports},function(t,e){},function(t,e){},function(t,e,i){"use strict";e.__esModule=!0;var n=i(36),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e,i){return e in t?(0,o.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){i(68);var n=i(1).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(3);n(n.S+n.F*!i(6),"Object",{defineProperty:i(4).f})},function(t,e,i){t.exports=!i(6)&&!i(11)(function(){return 7!=Object.defineProperty(i(20)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(5);t.exports=function(t,e){if(!n(t))return t;var i,o;if(e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;if("function"==typeof(i=t.valueOf)&&!n(o=i.call(t)))return o;if(!e&&"function"==typeof(i=t.toString)&&!n(o=i.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){t.exports={default:i(72),__esModule:!0}},function(t,e,i){i(37),i(22),i(43),i(83),i(90),i(93),i(95),t.exports=i(1).Set},function(t,e,i){var n=i(23),o=i(24);t.exports=function(t){return function(e,i){var r,a,s=String(o(e)),A=n(i),c=s.length;return A<0||A>=c?t?"":void 0:(r=s.charCodeAt(A),r<55296||r>56319||A+1===c||(a=s.charCodeAt(A+1))<56320||a>57343?t?s.charAt(A):r:t?s.slice(A,A+2):a-56320+(r-55296<<10)+65536)}}},function(t,e,i){t.exports=i(8)},function(t,e,i){"use strict";var n=i(38),o=i(21),r=i(17),a={};i(8)(a,i(2)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:o(1,i)}),r(t,e+" Iterator")}},function(t,e,i){var n=i(4),o=i(9),r=i(39);t.exports=i(6)?Object.defineProperties:function(t,e){o(t);for(var i,a=r(e),s=a.length,A=0;s>A;)n.f(t,i=a[A++],e[i]);return t}},function(t,e,i){var n=i(12),o=i(27),r=i(78)(!1),a=i(29)("IE_PROTO");t.exports=function(t,e){var i,s=o(t),A=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>A;)n(s,i=e[A++])&&(~r(c,i)||c.push(i));return c}},function(t,e,i){var n=i(27),o=i(16),r=i(79);t.exports=function(t){return function(e,i,a){var s,A=n(e),c=o(A.length),l=r(a,c);if(t&&i!=i){for(;c>l;)if((s=A[l++])!=s)return!0}else for(;c>l;l++)if((t||l in A)&&A[l]===i)return t||l||0;return!t&&-1}}},function(t,e,i){var n=i(23),o=Math.max,r=Math.min;t.exports=function(t,e){return t=n(t),t<0?o(t+e,0):r(t,e)}},function(t,e,i){var n=i(12),o=i(18),r=i(29)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){"use strict";var n=i(82),o=i(44),r=i(13),a=i(27);t.exports=i(25)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,i):"values"==e?o(0,t[i]):o(0,[i,t[i]])},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e,i){"use strict";var n=i(84),o=i(50);t.exports=i(85)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n=i(4).f,o=i(38),r=i(31),a=i(7),s=i(32),A=i(15),c=i(25),l=i(44),h=i(48),f=i(6),d=i(49).fastKey,u=i(50),g=f?"_s":"size",p=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var l=t(function(t,n){s(t,l,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&A(n,i,t[c],t)});return r(l.prototype,{clear:function(){for(var t=u(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=u(this,e),n=p(i,t);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[g]--}return!!n},forEach:function(t){u(this,e);for(var i,n=a(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!p(u(this,e),t)}}),f&&n(l.prototype,"size",{get:function(){return u(this,e)[g]}}),l},def:function(t,e,i){var n,o,r=p(t,e);return r?r.v=i:(t._l=r={i:o=d(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[g]++,"F"!==o&&(t._i[o]=r)),t},getEntry:p,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=u(t,e),this._k=i,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?l(0,i.k):"values"==e?l(0,i.v):l(0,[i.k,i.v]):(t._t=void 0,l(1))},i?"entries":"values",!i,!0),h(e)}}},function(t,e,i){"use strict";var n=i(0),o=i(3),r=i(49),a=i(11),s=i(8),A=i(31),c=i(15),l=i(32),h=i(5),f=i(17),d=i(4).f,u=i(86)(0),g=i(6);t.exports=function(t,e,i,p,v,m){var b=n[t],x=b,y=v?"set":"add",w=x&&x.prototype,T={};return g&&"function"==typeof x&&(m||w.forEach&&!a(function(){(new x).entries().next()}))?(x=e(function(e,i){l(e,x,t,"_c"),e._c=new b,void 0!=i&&c(i,v,e[y],e)}),u("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in w&&(!m||"clear"!=t)&&s(x.prototype,t,function(i,n){if(l(this,x,t),!e&&m&&!h(i))return"get"==t&&void 0;var o=this._c[t](0===i?0:i,n);return e?this:o})}),m||d(x.prototype,"size",{get:function(){return this._c.size}})):(x=p.getConstructor(e,t,v,y),A(x.prototype,i),r.NEED=!0),f(x,t),T[t]=x,o(o.G+o.W+o.F,T),m||p.setStrong(x,t,v),x}},function(t,e,i){var n=i(7),o=i(28),r=i(18),a=i(16),s=i(87);t.exports=function(t,e){var i=1==t,A=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,u){for(var g,p,v=r(e),m=o(v),b=n(s,u,3),x=a(m.length),y=0,w=i?d(e,x):A?d(e,0):void 0;x>y;y++)if((f||y in m)&&(g=m[y],p=b(g,y,v),t))if(i)w[y]=p;else if(p)switch(t){case 3:return!0;case 5:return g;case 6:return y;case 2:w.push(g)}else if(l)return!1;return h?-1:c||l?l:w}}},function(t,e,i){var n=i(88);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){var n=i(5),o=i(89),r=i(2)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){var n=i(14);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(3);n(n.P+n.R,"Set",{toJSON:i(91)("Set")})},function(t,e,i){var n=i(33),o=i(92);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,i){var n=i(15);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){i(94)("Set")},function(t,e,i){"use strict";var n=i(3);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){i(96)("Set")},function(t,e,i){"use strict";var n=i(3),o=i(10),r=i(7),a=i(15);t.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,s,A=arguments[1];return o(this),e=void 0!==A,e&&o(A),void 0==t?new this:(i=[],e?(n=0,s=r(A,arguments[2],2),a(t,!1,function(t){i.push(s(t,n++))})):a(t,!1,i.push,i),new this(i))}})}},function(t,e,i){i(22),i(98),t.exports=i(1).Array.from},function(t,e,i){"use strict";var n=i(7),o=i(3),r=i(18),a=i(45),s=i(46),A=i(16),c=i(99),l=i(47);o(o.S+o.F*!i(52)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,o,h,f=r(t),d="function"==typeof this?this:Array,u=arguments.length,g=u>1?arguments[1]:void 0,p=void 0!==g,v=0,m=l(f);if(p&&(g=n(g,u>2?arguments[2]:void 0,2)),void 0==m||d==Array&&s(m))for(e=A(f.length),i=new d(e);e>v;v++)c(i,v,p?g(f[v],v):f[v]);else for(h=m.call(f),i=new d;!(o=h.next()).done;v++)c(i,v,p?a(h,g,[o.value,v],!0):o.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(4),o=i(21);t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},function(t,e,i){i(37),i(22),i(43),i(101),i(105),i(106),t.exports=i(1).Promise},function(t,e,i){"use strict";var n,o,r,a,s=i(26),A=i(0),c=i(7),l=i(33),h=i(3),f=i(5),d=i(10),u=i(32),g=i(15),p=i(54),v=i(55).set,m=i(103)(),b=i(34),x=i(56),y=i(104),w=i(57),T=A.TypeError,k=A.process,S=k&&k.versions,j=S&&S.v8||"",R=A.Promise,I="process"==l(k),C=function(){},O=o=b.f,E=!!function(){try{var t=R.resolve(1),e=(t.constructor={})[i(2)("species")]=function(t){t(C,C)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==j.indexOf("6.6")&&-1===y.indexOf("Chrome/66")}catch(t){}}(),_=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var i=t._c;m(function(){for(var n=t._v,o=1==t._s,r=0;i.length>r;)!function(e){var i,r,a,s=o?e.ok:e.fail,A=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2==t._h&&B(t),t._h=1),!0===s?i=n:(l&&l.enter(),i=s(n),l&&(l.exit(),a=!0)),i===e.promise?c(T("Promise-chain cycle")):(r=_(i))?r.call(i,A,c):A(i)):c(n)}catch(t){l&&!a&&l.exit(),c(t)}}(i[r++]);t._c=[],t._n=!1,e&&!t._h&&X(t)})}},X=function(t){v.call(A,function(){var e,i,n,o=t._v,r=Y(t);if(r&&(e=x(function(){I?k.emit("unhandledRejection",o,t):(i=A.onunhandledrejection)?i({promise:t,reason:o}):(n=A.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=I||Y(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},Y=function(t){return 1!==t._h&&0===(t._a||t._c).length},B=function(t){v.call(A,function(){var e;I?k.emit("rejectionHandled",t):(e=A.onrejectionhandled)&&e({promise:t,reason:t._v})})},P=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},W=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw T("Promise can't be resolved itself");(e=_(t))?m(function(){var n={_w:i,_d:!1};try{e.call(t,c(W,n,1),c(P,n,1))}catch(t){P.call(n,t)}}):(i._v=t,i._s=1,L(i,!1))}catch(t){P.call({_w:i,_d:!1},t)}}};E||(R=function(t){u(this,R,"Promise","_h"),d(t),n.call(this);try{t(c(W,this,1),c(P,this,1))}catch(t){P.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(31)(R.prototype,{then:function(t,e){var i=O(p(this,R));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=I?k.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&L(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n;this.promise=t,this.resolve=c(W,t,1),this.reject=c(P,t,1)},b.f=O=function(t){return t===R||t===a?new r(t):o(t)}),h(h.G+h.W+h.F*!E,{Promise:R}),i(17)(R,"Promise"),i(48)("Promise"),a=i(1).Promise,h(h.S+h.F*!E,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!E),"Promise",{resolve:function(t){return w(s&&this===a?R:this,t)}}),h(h.S+h.F*!(E&&i(52)(function(t){R.all(t).catch(C)})),"Promise",{all:function(t){var e=this,i=O(e),n=i.resolve,o=i.reject,r=x(function(){var i=[],r=0,a=1;g(t,!1,function(t){var s=r++,A=!1;i.push(void 0),a++,e.resolve(t).then(function(t){A||(A=!0,i[s]=t,--a||n(i))},o)}),--a||n(i)});return r.e&&o(r.v),i.promise},race:function(t){var e=this,i=O(e),n=i.reject,o=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return o.e&&n(o.v),i.promise}})},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(0),o=i(55).set,r=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,A="process"==i(14)(a);t.exports=function(){var t,e,i,c=function(){var n,o;for(A&&(n=a.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(A)i=function(){a.nextTick(c)};else if(!r||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);i=function(){l.then(c)}}else i=function(){o.call(n,c)};else{var h=!0,f=document.createTextNode("");new r(c).observe(f,{characterData:!0}),i=function(){f.data=h=!h}}return function(n){var o={fn:n,next:void 0};e&&(e.next=o),t||(t=o,i()),e=o}}},function(t,e,i){var n=i(0),o=n.navigator;t.exports=o&&o.userAgent||""},function(t,e,i){"use strict";var n=i(3),o=i(1),r=i(0),a=i(54),s=i(57);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,o.Promise||r.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(3),o=i(34),r=i(56);n(n.S,"Promise",{try:function(t){var e=o.f(this),i=r(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){t.exports=i(108)},function(t,e,i){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,r=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i(109),o)n.regeneratorRuntime=r;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,n){var r=e&&e.prototype instanceof o?e:o,a=Object.create(r.prototype),s=new d(n||[]);return a._invoke=c(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function o(){}function r(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){function e(i,o,r,a){var s=n(t[i],t,o);if("throw"!==s.type){var A=s.arg,c=A.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):Promise.resolve(c).then(function(t){A.value=t,r(A)},a)}a(s.arg)}function i(t,i){function n(){return new Promise(function(n,o){e(t,i,n,o)})}return o=o?o.then(n,n):n()}var o;this._invoke=i}function c(t,e,i){var o=S;return function(r,a){if(o===R)throw new Error("Generator is already running");if(o===I){if("throw"===r)throw a;return g()}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var A=l(s,i);if(A){if(A===C)continue;return A}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===S)throw o=I,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=R;var c=n(t,e,i);if("normal"===c.type){if(o=i.done?I:j,c.arg===C)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=I,i.method="throw",i.arg=c.arg)}}}function l(t,e){var i=t.iterator[e.method];if(i===p){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=p,l(t,e),"throw"===e.method))return C;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var o=n(i,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,C;var r=o.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=p),e.delegate=null,C):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,C)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function u(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(m.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=p,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:p,done:!0}}var p,v=Object.prototype,m=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",y=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",T="object"==typeof t,k=e.regeneratorRuntime;if(k)return void(T&&(t.exports=k));k=e.regeneratorRuntime=T?t.exports:{},k.wrap=i;var S="suspendedStart",j="suspendedYield",R="executing",I="completed",C={},O={};O[x]=function(){return this};var E=Object.getPrototypeOf,_=E&&E(E(u([])));_&&_!==v&&m.call(_,x)&&(O=_);var L=a.prototype=o.prototype=Object.create(O);r.prototype=L.constructor=a,a.constructor=r,a[w]=r.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(L),t},k.awrap=function(t){return{__await:t}},s(A.prototype),A.prototype[y]=function(){return this},k.AsyncIterator=A,k.async=function(t,e,n,o){var r=new A(i(t,e,n,o));return k.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},s(L),L[w]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},k.values=u,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return r.type="throw",r.arg=t,i.next=e,n&&(i.method="next",i.arg=p),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],r=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),s=m.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,C):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),C},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),C}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var o=n.arg;f(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:u(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=p),C}}}(function(){return this}()||Function("return this")())},function(t,e,i){"use strict";e.__esModule=!0;var n=i(53),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default(function(t,i){function n(r,a){try{var s=e[r](a),A=s.value}catch(t){return void i(t)}if(!s.done)return o.default.resolve(A).then(function(t){n("next",t)},function(t){n("throw",t)});t(A)}return n("next")})}}},function(t,e,i){t.exports={default:i(112),__esModule:!0}},function(t,e,i){var n=i(1),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(51),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o.default)(t)}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(58),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},function(t,e,i){i(116),t.exports=i(1).Object.assign},function(t,e,i){var n=i(3);n(n.S+n.F,"Object",{assign:i(117)})},function(t,e,i){"use strict";var n=i(6),o=i(39),r=i(118),a=i(119),s=i(18),A=i(28),c=Object.assign;t.exports=!c||i(11)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var i=s(t),c=arguments.length,l=1,h=r.f,f=a.f;c>l;)for(var d,u=A(arguments[l++]),g=h?o(u).concat(h(u)):o(u),p=g.length,v=0;p>v;)d=g[v++],n&&!f.call(u,d)||(i[d]=u[d]);return i}:c},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";(function(){document.addEventListener})(),function(){document.removeEventListener}()},function(t,e,i){"use strict";var n=i(122),o=i.n(n),r=i(123),a=i.n(r),s=function(){function t(){o()(this,t)}return a()(t,[{key:"registeObjectEvent",value:function(t,e){console.log("registeObjectEvent"),e.on("mousedown",function(i){t.$emit("object:mousedown",e,i)}),e.on("mouseup",function(i){t.$emit("object:mouseup",e,i)}),e.on("mousemove",function(i){t.$emit("object:mousemove",e,i)}),e.on("mouseover",function(i){t.$emit("object:mouseover",e,i)}),e.on("mouseout",function(i){t.$emit("object:mouseout",e,i)}),e.on("mousedblclick",function(i){t.$emit("object:mousedblclick",e,i)}),e.on("mousewheel",function(i){t.$emit("object:mousewheel",e,i)})}}]),t}(),A=new s;e.a=A},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(36),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){"use strict"},function(t,e,i){"use strict";function n(t){i(126)}var o=i(59),r=i(130),a=i(19),s=n,A=a(o.a,r.a,!1,s,"data-v-3b6631fc",null);e.a=A.exports},function(t,e){},function(t,e,i){"use strict";function n(t){i(128)}var o=i(60),r=i(129),a=i(19),s=n,A=a(o.a,r.a,!1,s,"data-v-8b5ed618",null);e.a=A.exports},function(t,e){},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"child-ul-wrapper",class:t.float},t._l(t.itemchildren,function(e){return i("li",{key:e.name,staticClass:"child-li-wrapper"},[e.children&&e.children.length>0?i("div",{staticClass:"has-child"},[i("div",{staticClass:"parent-name btn-wrapper-simple"},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))]),t._v(" "),i("i",{staticClass:"icon"})]),t._v(" "),i("tree-child-component",{attrs:{itemchildren:e.children,float:t.float},on:{childhandler:t.fnHandler}})],1):i("div",[i("div",{staticClass:"no-child-btn btn-wrapper-simple",on:{click:function(i){return i.stopPropagation(),t.fnHandler(e)}}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},o=[],r={render:n,staticRenderFns:o};e.a=r},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"vue-contextmenu-listWrapper",class:"vue-contextmenuName-"+t.contextMenuData.menuName,on:{contextmenu:function(t){t.stopPropagation()}}},t._l(t.contextMenuData.menulists,function(e){return i("li",{key:e.btnName,staticClass:"context-menu-list"},[e.children&&e.children.length>0?i("div",{staticClass:"has-child"},[i("div",{staticClass:"parent-name btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right hoverbtn"},[t._v(t._s(e.btnName))]),t._v(" "),i("i",{staticClass:"icon hoverbicon"})]),t._v(" "),i("Tree",{attrs:{itemchildren:e.children,float:t.floatDirection},on:{childhandler:t.fnHandler}})],1):i("div",[i("div",{staticClass:"no-child-btn btn-wrapper-simple",class:{"no-allow":!!e.disabled&&e.disabled},on:{click:function(i){i.stopPropagation(),!0===e.disabled||t.fnHandler(e)}}},[i("i",{staticClass:"nav-icon-fontawe",class:e.icoName?e.icoName:""}),t._v(" "),i("span",{staticClass:"nav-name-right"},[t._v(t._s(e.btnName))])])])])}),0)},o=[],r={render:n,staticRenderFns:o};e.a=r},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bigbox",on:{contextmenu:t.showMenu}},[i("div",{staticStyle:{position:"fixed",top:"-9999999999999999999px",left:"800px","z-index":"999999"}},[i("img",{attrs:{id:"barcode"}}),t._v(" "),i("div",{attrs:{id:"barbox"}}),t._v(" "),i("img",{staticClass:"qrcodeImg",attrs:{id:"qrcode",src:t.qrcodeImg,alt:""}})]),t._v(" "),i("input",{staticStyle:{position:"fixed",top:"-1000000px","z-index":"9999"},attrs:{type:"text",id:"code"}}),t._v(" "),i("canvas",{attrs:{id:"canvas",width:"800",height:"400"}}),t._v(" "),i("vue-context-menu",{attrs:{contextMenuData:t.contextMenuData},on:{toTopLayer:t.toTopLayer,toLastLayer:t.toLastLayer,toNextLayer:t.toNextLayer,toBottomLayer:t.toBottomLayer,removeEditObj:t.removeEditObj,copypaste:t.copypaste}})],1)},o=[],r={render:n,staticRenderFns:o};e.a=r}])});